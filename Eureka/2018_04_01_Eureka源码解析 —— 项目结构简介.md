title: Eureka æºç è§£æ â€”â€” é¡¹ç›®ç»“æ„ç®€ä»‹
date: 2018-04-01
tags:
categories: Eureka
permalink: Eureka/project-structure

---

æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://www.iocoder.cn/Eureka/project-structure/ ã€ŒèŠ‹é“æºç ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

**æœ¬æ–‡ä¸»è¦åŸºäº Eureka 1.8.X ç‰ˆæœ¬**  

- [1. æ¦‚è¿°](http://www.iocoder.cn/Eureka/project-structure/)
	- [1.1 ç®€ä»‹](http://www.iocoder.cn/Eureka/project-structure/)
	- [1.2 é¡¹ç›®ç»“æ„](http://www.iocoder.cn/Eureka/project-structure/)
- [2. eureka-client](http://www.iocoder.cn/Eureka/project-structure/)
	- [2.1 eureka-client-archaius2](http://www.iocoder.cn/Eureka/project-structure/)
	- [2.2 eureka-client-jersey2](http://www.iocoder.cn/Eureka/project-structure/)
- [3. eureka-core](http://www.iocoder.cn/Eureka/project-structure/)
	- [3.1 eureka-core-jersey2](http://www.iocoder.cn/Eureka/project-structure/)
- [4. eureka-resources](http://www.iocoder.cn/Eureka/project-structure/)
- [5. eureka-server](http://www.iocoder.cn/Eureka/project-structure/)
	- [5.1 eureka-server-governator](http://www.iocoder.cn/Eureka/project-structure/)
- [6. eureka-examples](http://www.iocoder.cn/Eureka/project-structure/)
- [7. eureka-test-utils](http://www.iocoder.cn/Eureka/project-structure/)
- [666. å½©è›‹](http://www.iocoder.cn/Eureka/project-structure/)

---

![](http://www.iocoder.cn/images/common/wechat_mp_2018_05_18.jpg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘**æœ‰ç¦åˆ©ï¼š  
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨  
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**  
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚  
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚  
> 5. **è®¤çœŸçš„**æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚

---

# 1. æ¦‚è¿°

æœ¬æ–‡ä¸»è¦åˆ†äº« **Eureka çš„é¡¹ç›®ç»“æ„**ï¼Œé™„å¸¦éƒ¨åˆ†ç®€ä»‹å’ŒåŸç†ã€‚

Eureka é¡¹ç›®åœ°å€ï¼š[https://github.com/Netflix/eureka](https://github.com/Netflix/eureka)

* è¯·æ³¨æ„ä¸‹ï¼Œä¸æ˜¯ `spring-cloud-netflix-eureka-client` / `spring-cloud-netflix-eureka-server` ã€‚
* ç¬”è€… Fork çš„ä»£ç ä»“åº“ [https://github.com/YunaiV/eureka](https://github.com/YunaiV/eureka)ï¼Œä¼šéšç€è¿™ä¸ªç³»åˆ—çš„æ–‡ç« é€æ¸å¢åŠ **ä¸­æ–‡æ³¨é‡Š**ï¼Œå¯ä»¥å…ˆ Star ä¸€ä¸‹ã€‚

**æ¨è Spring Cloud ä¹¦ç±**ï¼š

* è¯·æ”¯æŒæ­£ç‰ˆã€‚ä¸‹è½½ç›—ç‰ˆï¼Œ**ç­‰äºä¸»åŠ¨ç¼–å†™ä½çº§ BUG** ã€‚
* ç¨‹åºçŒ¿DD â€”â€” [ã€ŠSpring Cloudå¾®æœåŠ¡å®æˆ˜ã€‹](https://union-click.jd.com/jdc?d=505Twi)
* å‘¨ç«‹ â€”â€” [ã€ŠSpring Cloudä¸Dockerå¾®æœåŠ¡æ¶æ„å®æˆ˜ã€‹](https://union-click.jd.com/jdc?d=k3sAaK)
* ä¸¤ä¹¦é½ä¹°ï¼Œäº¬ä¸œåŒ…é‚®ã€‚



## 1.1 ç®€ä»‹

Eureka æ˜¯ [Netflix](https://zh.wikipedia.org/wiki/Netflix) å¼€æºçš„æœåŠ¡æ³¨å†Œå‘ç°ç»„ä»¶ï¼Œåˆ†æˆ Client å’Œ Server ä¸¤éƒ¨åˆ†ã€‚ç®€åŒ–æ¶æ„å¦‚ä¸‹å›¾ï¼š

![](http://www.iocoder.cn/images/Eureka/2018_04_01/01.png)

* Eureka-Server ï¼šé€šè¿‡ REST åè®®æš´éœ²æœåŠ¡ï¼Œæä¾›åº”ç”¨æœåŠ¡çš„æ³¨å†Œå’Œå‘ç°çš„åŠŸèƒ½ã€‚
* Application Provider ï¼šåº”ç”¨æœåŠ¡æä¾›è€…ï¼Œå†…åµŒ Eureka-Client ï¼Œé€šè¿‡å®ƒå‘ Eureka-Server æ³¨å†Œè‡ªèº«æœåŠ¡ã€‚
* Application Consumer ï¼šåº”ç”¨æœåŠ¡æ¶ˆè´¹è€…ï¼Œå†…åµŒ Eureka-Client ï¼Œé€šè¿‡å®ƒä» Eureka-Server è·å–æœåŠ¡åˆ—è¡¨ã€‚
* è¯·æ³¨æ„ä¸‹ï¼ŒApplication Provider å’Œ Application Consumer å¼ºè°ƒæ‰®æ¼”çš„è§’è‰²ï¼Œå®é™…å¯ä»¥åœ¨åŒä¸€ JVM è¿›ç¨‹ï¼Œå³æ˜¯æœåŠ¡çš„æä¾›è€…ï¼Œåˆæ˜¯æœåŠ¡çš„æ¶ˆè´¹è€…ã€‚

## 1.2 é¡¹ç›®ç»“æ„

Eureka é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

![](http://www.iocoder.cn/images/Eureka/2018_04_01/02.png)

â“â“â“ä¸åª Eureka-Client ã€ Eureka-Server â“â“â“

æ·¡å®šã€‚æˆ‘ä»¬ä¸€èµ·æ¥äº†è§£æ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½å’Œç»“æ„ã€‚

# 2. `eureka-client`

`eureka-client` æ¨¡å—ä¸º Eureka-Client çš„åŠŸèƒ½å®ç°ï¼š

* `com.netflix.appinfo` åŒ…ï¼šEureka-Client çš„åº”ç”¨é…ç½®ã€‚æ­¤å¤„çš„åº”ç”¨æŒ‡çš„å°±æ˜¯ä¸Šæ–‡æåˆ°çš„ Application Providerï¼ŒApplication Consumerã€‚
* `com.netflix.discovery` åŒ…ï¼šEureka-Client çš„æ³¨å†Œä¸å‘ç°ç›¸å…³åŠŸèƒ½ã€‚
    * `com.netflix.discovery.DiscoveryClient` ç±»ï¼šæ³¨å†Œå‘ç°å®¢æˆ·ç«¯å®ç°ç±»ã€‚
    * `com.netflix.discovery.guice` åŒ…ï¼šEureka **è®¡åˆ’**ä½¿ç”¨ [Google Guice](https://github.com/google/guice) å®ç°ä¾èµ–æ³¨å…¥ï¼Œå‚è§æœ¬æ–‡ã€Œ5.1 `eureka-server-governator`ã€ã€‚ä¸€æ–¹é¢ Guice æ˜¯è½»é‡çº§çš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œå¦ä¸€æ–¹é¢é¿å…å’Œä¸šåŠ¡ä»£ç çš„ Spring ç‰ˆæœ¬å†²çªã€‚

        > Guice (pronounced 'juice') is a lightweight dependency injection framework for Java 6 and above, brought to you by Google. 

    * `com.netflix.discovery.converters` åŒ…ï¼šEureka å†…éƒ¨ä¼ è¾“æ•°æ®ç¼–è§£ç è½¬æ¢å™¨ï¼Œæ”¯æŒ XML / JSON æ ¼å¼ã€‚
    * `com.netflix.discovery.endpoint` åŒ…ï¼šç›®å‰è¯¥åŒ…æ­£åœ¨é‡æ„ï¼Œå’Œä¸‹æ–‡çš„ `com.netflix.discovery.shared.dns` å’Œ `com.netflix.discovery.shared.resolver` ç”¨é€”ç›¸è¿‘ã€‚
    * `com.netflix.disvoery.provider` åŒ…ï¼šç›®å‰ä»…æœ‰ DiscoveryJerseyProvider ç±»ã€‚è¯¥ç±»å£°æ˜è‡ªå®šä¹‰çš„ Jersey è¯·æ±‚å’Œå“åº”çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°ã€‚
    * `com.netflix.disvoery.providers` åŒ…ï¼šç›®å‰ä»…æœ‰ DefaultEurekaClientConfigProvider ç±»ã€‚è¯¥ç±»å®ç° `javax.inject.Provider` æ¥å£ï¼Œè®¾ç½® EurekaClientConfig ( Eureka å®¢æˆ·ç«¯é…ç½® ) çš„ç”Ÿæˆå·¥å‚ã€‚æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå¯ä»¥ç‚¹å‡»[ã€ŠGoogle-Guiceå…¥é—¨ä»‹ç»ã€‹](http://blog.csdn.net/derekjiang/article/details/7231490)æœç´¢ **Provider** å…³é”®å­—ã€‚
    * `com.netflix.discovery.shared` åŒ…ï¼šEureka-Client å’Œ Eureka-Server æ³¨å†Œå‘ç°ç›¸å…³çš„å…±äº«é‡ç”¨çš„ä»£ç ã€‚ä¸‹æ–‡ä½ ä¼šçœ‹åˆ°ï¼ŒEureka-Server é€šè¿‡ `eureka-core` æ¨¡å—å®ç°ï¼Œ`eureka-core` ä¾èµ– `eureka-client`ã€‚**ç²—ä¸€çœ‹ï¼Œæˆ‘ä»¬ä¼šæ„Ÿè§‰ What ï¼ŸEureka-Server ä»£ç ä¾èµ– Eureka-Client ä»£ç **ï¼ï¼Ÿè¿™ä¸ªå’Œ Eureka-Server å¤šèŠ‚ç‚¹æ³¨å†Œä¿¡æ¯ P2P åŒæ­¥çš„å®ç°æœ‰å…³ã€‚ä¸€ä¸ª Eureka-Server æ”¶åˆ° Eureka-Client æ³¨å†Œè¯·æ±‚åï¼ŒEureka-Server ä¼šè‡ªå·±æ¨¡æ‹Ÿ Eureka-Client å‘é€æ³¨å†Œè¯·æ±‚åˆ°å…¶å®ƒçš„ Eureka-Serverï¼Œå› æ­¤éƒ¨åˆ†å®ç°ä»£ç å°±ä½¿ç”¨åˆ°äº†è¿™ä¸ªåŒ…ï¼Œåœ¨ [ã€ŠEureka æºç è§£æ â€”â€” Eureka-Server é›†ç¾¤åŒæ­¥ã€‹](http://www.iocoder.cn/Eureka/server-cluster/?self) è¯¦ç»†è§£æã€‚
        * `com.netflix.discovery.shared.transport` åŒ…ï¼šEureka-Client å¯¹ Eureka-Server RESTful çš„ HTTP å®¢æˆ·ç«¯ï¼ŒåŸºäº Jersey Client å®ç°ã€‚Jersey åœ¨ä¸‹æ–‡ã€Œ2.1 `eureka-client-jersey2`ã€è¯¦ç»†è§£æã€‚
        * `com.netflix.discovery.shared.dns` åŒ… ï¼šDNS è§£æå™¨ã€‚
        * `com.netflix.discovery.shared.resolver` åŒ…ï¼šEureka Endpoint è§£æå™¨ã€‚åœ¨ [ã€ŠEureka æºç è§£æ â€”â€” EndPoint ä¸ è§£æå™¨ã€‹](http://www.iocoder.cn/Eureka/end-point-and-resolver/?self) æœ‰è¯¦ç»†è§£æã€‚

    * `com.netflix.discovery.util` åŒ… ï¼šå·¥å…·ç±»ã€‚

## 2.1 `eureka-client-archaius2`

[Archaius](https://github.com/Netflix/archaius) æ˜¯ Netflix å¼€æºçš„é…ç½®ç®¡ç†ç»„ä»¶ã€‚

Archaius ç›®å‰æœ‰ 1.x å’Œ 2.x ç‰ˆæœ¬ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒEureka ä½¿ç”¨ 1.x ç‰ˆæœ¬ã€‚ä»å®˜æ–¹æ–‡æ¡£ä¸Šæ¥çœ‹ï¼Œ2.x ç‰ˆæœ¬ä»ç„¶åœ¨å¼€å‘ä¸­ã€‚

> FROM [eureka-client-archaius2 README](https://github.com/YunaiV/eureka/blob/103e0875b08c9ff4abb85eaab672df2041b63558/eureka-client-archaius2/README.md)  
> This is a version of eureka-client that has been ported to use Archaius 2.x as the backing configuration system. Please note that this client is still work in progress. This client is also only java8 compatible (as Archaius 2.x is only java8 compatible).

## 2.2 `eureka-client-jersey2`

[Jersey](https://github.com/jersey/jersey) æ˜¯ JAX-RSï¼ˆJSR311ï¼‰å¼€æºå‚è€ƒå®ç°ï¼Œç”¨äºæ„å»º RESTful Web Serviceã€‚

* Eureka-Server ä½¿ç”¨ [Jersey Server](https://github.com/jersey/jersey/tree/9fdb7e386dc56b33f569ab198caf818d7a18525d/core-server/) åˆ›å»º RESTful Server ã€‚
* Eureka-Client ä½¿ç”¨ [Jersey Client](https://github.com/jersey/jersey/tree/9fdb7e386dc56b33f569ab198caf818d7a18525d/core-client/) è¯·æ±‚ Eureka-Server ã€‚

Jersey ç›®å‰æœ‰ 1.x å’Œ 2.x ç‰ˆæœ¬ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒEureka ä½¿ç”¨ 1.x ç‰ˆæœ¬ã€‚ä»å®˜æ–¹æ–‡æ¡£ä¸Šæ¥çœ‹ï¼Œ2.x ç‰ˆæœ¬ç”±ç¤¾åŒºå®ç°ï¼ŒNetflix è‡ªå·±æš‚æœªä½¿ç”¨ã€‚

> FROM [eureka-client-jersey2 README](https://github.com/Netflix/eureka/tree/30a85dc31be1c9d399e4e6ec5150759fb8777edf/eureka-client-jersey2/)  
> Please note that this jersey2 compatible Eureka client (eureka-client-jersey2) is created and maintained by the community. Netflix does not currently use this library internally.

# 3. `eureka-core`

`eureka-core` æ¨¡å—ä¸º Eureka-Server çš„åŠŸèƒ½å®ç°ï¼š

* `com.netflix.eureka.EurekaBootStrap` ç±»ï¼šEureka-Server å¯åŠ¨ç±»ã€‚
* `com.netflix.eureka.aws` åŒ…ï¼šä¸äºšé©¬é€Š AWS æœåŠ¡ç›¸å…³çš„ç±»ã€‚ç”±äºç¬”è€…å’Œå¤§å¤šæ•°è¯»è€…éƒ½å¯¹ AWS æš‚ä¸äº†è§£ï¼Œæœ¬ç³»åˆ—[ã€ŠEureka æºç è§£æã€‹](#)ä¼šè·³è¿‡å’Œ AWS ç›¸å…³çš„ä»£ç ã€‚
* `com.netflix.eureka.cluster` åŒ…ï¼šEureka-Server é›†ç¾¤æ•°æ®å¤åˆ¶ç›¸å…³çš„ä»£ç ã€‚
* `com.netflix.eureka.lease` åŒ…ï¼šåº”ç”¨æ³¨å†Œåçš„**ç§Ÿçº¦**ç®¡ç†( æ³¨å†Œ / å–æ¶ˆ / ç»­æœŸ / è¿‡æœŸ )ã€‚
* `com.netflix.eureka.resousrces` åŒ…ï¼šèµ„æºï¼ŒåŸºäº Jersey Server å®ç°ï¼Œç›¸å½“äº Spring MVC çš„æ§åˆ¶å±‚ä»£ç ã€‚
* `com.netflix.eureka.transport` åŒ…ï¼šEureka-Server å¯¹ Eureka-Server çš„ RESTful HTTP å®¢æˆ·ç«¯ï¼ŒåŸºäº `com.netflix.discovery.shared.transport` å°è£…å®ç°ã€‚
* `com.netflix.eureka.util` åŒ…ï¼šå·¥å…·ç±»ã€‚

## 3.1 `eureka-core-jersey2`

å‚è§æœ¬æ–‡ã€Œ2.1 `eureka-client-jersey2`ã€ã€‚

# 4. `eureka-resources`

`eureka-resources` æ¨¡å—ï¼Œä½¿ç”¨ JSP å®ç° Eureka-Server çš„è¿ç»´åå°ç•Œé¢ã€‚é¡¹ç›®ç»“æ„å¦‚ä¸‹å›¾ï¼š

![](http://www.iocoder.cn/images/Eureka/2018_04_01/03.png)

# 5. `eureka-server`

`eureka-server` æ¨¡å—ï¼Œå°† `eureka-client` + `eureka-core` + `eureka-resources` ä¸‰è€…æ‰“åŒ…æˆ Eureka-Server çš„ `war` åŒ…ã€‚é¡¹ç›®ç»“æ„å¦‚ä¸‹å›¾ï¼š

![](http://www.iocoder.cn/images/Eureka/2018_04_01/04.png)

## 5.1 `eureka-server-governator`

`eureka-server-governator` æ¨¡å—ï¼Œä½¿ç”¨ [Netflix Governator](https://github.com/Netflix/governator) ç®¡ç† Eureka-Server çš„ç”Ÿå‘½å‘¨æœŸã€‚

> FROM [http://www.infoq.com/cn/news/2013/02/netflix-opensource](http://www.infoq.com/cn/news/2013/02/netflix-opensource)  
> **Governator**ï¼Œä¸€æ¬¾å¯¹ Google Guice è¿›è¡Œæ‰©å±•çš„ç±»åº“ï¼Œæä¾›äº†Classpathæ‰«æåŠè‡ªåŠ¨ç»‘å®šã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æˆå‘˜å±æ€§éªŒè¯ç­‰åŠŸèƒ½ã€‚

ç›®å‰è¯¥æ¨¡å—æ­£åœ¨å®ç°é˜¶æ®µã€‚

> FROM [eureka-server-governator README](https://github.com/Netflix/eureka/tree/30a85dc31be1c9d399e4e6ec5150759fb8777edf/eureka-server-governator/)    
> This server build is still experimental.

# 6. `eureka-examples`

`eureka-examples` æ¨¡å—ï¼Œæä¾› Eureka-Client ä½¿ç”¨ä¾‹å­ã€‚

# 7. `eureka-test-utils`

`eureka-test-utils` æ¨¡å—ï¼Œæä¾› Eureka å•å…ƒæµ‹è¯•å·¥å…·ç±»ã€‚

# 666. å½©è›‹

![çŸ¥è¯†æ˜Ÿçƒ](http://www.iocoder.cn/images/Architecture/2017_12_29/01.png)

ç¬¬ä¸€ç¯‡ Eureka çš„æ–‡ç« ï¼Œå¦‚æœæœ‰åœ°æ–¹å†™çš„ä¸æ­£ç¡®ï¼Œè¿˜æœ›æŒ‡å‡ºï¼Œè°¢è°¢ã€‚

ä¸‹ä¸€ç¯‡ Eureka è°ƒè¯•ç¯å¢ƒæ­å»ºã€‚

æ›´å¤š Eureka å†…å®¹ï¼Œæ¨èé˜…è¯»å¦‚ä¸‹æ–‡ç« ï¼š

* æºç¨‹ â€”â€” [ã€Šæ·±åº¦å‰–ææœåŠ¡å‘ç°ç»„ä»¶Netflix Eurekaã€‹](http://techshow.ctrip.com/archives/1699.html)
* ç¨‹åºå‘˜DD â€”â€” [ã€ŠSpring Cloudæºç åˆ†æï¼ˆä¸€ï¼‰Eurekaã€‹](http://blog.didispace.com/springcloud-sourcecode-eureka/)
* ç‹é¸¿é£ â€”â€” [ã€ŠSpring Cloud Netflix Eurekaæºç å¯¼è¯»ä¸åŸç†åˆ†æã€‹](http://blog.spring-cloud.io/blog/sc-eureka.html)
* è®¸è¿› â€”â€” [ã€ŠSpring Cloud Netflixä¹‹Eurekaä¸Šç¯‡ã€‹](http://xujin.org/sc/sc-netflix-eureka/)

