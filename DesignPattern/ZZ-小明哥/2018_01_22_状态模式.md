title: ã€è®¾è®¡æ¨¡å¼è¯»ä¹¦ç¬”è®°ã€‘çŠ¶æ€æ¨¡å¼
date: 2018-01-22
tags:
categories: è®¾è®¡æ¨¡å¼
permalink: DesignPattern/xiaomingge/State-Pattern
author: å°æ˜å“¥
from_url: http://cmsblogs.com/?p=395
wechat_url:

-------

æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://cmsblogs.com/?p=395 ã€Œå°æ˜å“¥ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

- [ä¸€ã€æ¨¡å¼å®šä¹‰](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
- [äºŒã€æ¨¡å¼ç»“æ„](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
- [ä¸‰ã€æ¨¡å¼å®ç°](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
- [å››ã€æ¨¡å¼ä¼˜ç¼ºç‚¹](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
  - [ä¼˜ç‚¹](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
  - [ç¼ºç‚¹](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
- [äº”ã€æ¨¡å¼é€‚ç”¨åœºæ™¯](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)
- [å…­ã€æ¨¡å¼æ€»ç»“](http://www.iocoder.cn/DesignPattern/xiaomingge/State-Pattern/)

-------

![](http://www.iocoder.cn/images/common/wechat_mp_2017_07_31.jpg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘**æœ‰ç¦åˆ©ï¼š
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚
> 5. **è®¤çœŸçš„**æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚

-------

â€‹      åœ¨ä»‹ç»çŠ¶æ€æ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªå®ä¾‹ï¼šä½ å…¬å¸åŠ›æ’ä¸‡éš¾ç»ˆäºè·å¾—æŸä¸ªé…’åº—çš„ç³»ç»Ÿå¼€å‘é¡¹ç›®ï¼Œå¹¶ä¸”æœ€ç»ˆè½åˆ°äº†ä½ çš„å¤´ä¸Šã€‚ä¸‹å›¾æ˜¯ä»–ä»¬ç³»ç»Ÿçš„ä¸»è¦å·¥ä½œ(å¤Ÿç®€å•)ã€‚

[![å›¾ç‰‡1](http://cmsblogs.com/wp-content/uploads/2014/02/1_thumb.png)](http://cmsblogs.com/wp-content/uploads/2014/02/1.png)

â€‹      å½“ä½ ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªç³»ç»Ÿçš„æ—¶å€™ä½ å°±çœ‹å‡ºæ¥äº†è¿™æ˜¯ä¸€ä¸ªçŠ¶æ€å›¾ï¼Œæ¯ä¸ªæ¡†æ¡†éƒ½ä»£è¡¨äº†æˆ¿é—´çš„çŠ¶æ€ï¼Œç®­å¤´è¡¨ç¤ºæˆ¿é—´çŠ¶æ€çš„è½¬æ¢ã€‚åˆ†æå¦‚ä¸‹ï¼šæˆ¿é—´æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼šç©ºé—²ã€å·²é¢„è®¢ã€å·²å…¥ä½ï¼ŒçŠ¶æ€ä¸çŠ¶æ€ä¹‹é—´å¯ä»¥æ ¹æ®å®¢æˆ·çš„åŠ¨ä½œæ¥è¿›è¡Œè½¬æ¢ã€‚å®šä¹‰æ¯ä¸ªçŠ¶æ€çš„å€¼ã€‚

```Java
public static final int FREEMTIME_STATE = 0;  //ç©ºé—²çŠ¶æ€
    public static final int BOOKED_STATE = 1;     //å·²é¢„è®¢çŠ¶æ€
    public static final int CHECKIN_STATE = 2;    //å…¥ä½çŠ¶æ€


    int state = FREEMTIME_STATE;     //åˆå§‹çŠ¶æ€
```

â€‹      é€šè¿‡å®¢æˆ·çš„åŠ¨ä½œå°†æ¯ä¸ªçŠ¶æ€æ•´åˆèµ·æ¥ï¼Œå¯¹äºè¿™ä¸ªâ€œæœ€ç®€å•â€çš„æ–¹å¼è‚¯å®šæ˜¯ifâ€¦else ifâ€¦elseå•¦ï¼æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å°±é€šè¿‡åŠ¨ä½œå°†æ‰€æœ‰çš„çŠ¶æ€å…¨é¢æ•´åˆèµ·æ¥ã€‚åˆ†æå¾—è¿™é‡Œæœ‰å››ä¸ªåŠ¨ä½œï¼šé¢„è®¢ã€å…¥ä½ã€é€€è®¢ã€é€€æˆ¿ã€‚å¦‚ä¸‹ï¼š

```Java
/**
     * @desc é¢„è®¢
     * @return void
     */
    public void bookRoom(){
        if(state == FREEMTIME_STATE){   //ç©ºé—²å¯é¢„è®¢
            if(count > 0){
                System.out.println("ç©ºé—²æˆ¿é—´ï¼Œå®Œæˆé¢„è®¢...");
                state =  BOOKED_STATE;     //æ”¹å˜çŠ¶æ€ï¼šå·²é¢„è®¢
                count --;
                //æˆ¿é—´é¢„è®¢å®Œäº†,æç¤ºå®¢æˆ·æ²¡æœ‰æˆ¿æºäº†
                if(count == 0){
                    System.out.println("ä¸å¥½æ„æ€,æˆ¿é—´å·²ç»é¢„è®¢å®Œ,æ¬¢è¿æ‚¨ä¸‹æ¬¡å…‰ä¸´...");
                }
            }
            else{
                System.out.println("ä¸å¥½æ„æ€,å·²ç»æ²¡æœ‰æˆ¿é—´äº†....");
            }
        }
        else if(state == BOOKED_STATE){
            System.out.println("è¯¥æˆ¿é—´å·²ç»è¢«é¢„è®¢äº†...");
        }
        else if(state == CHECKIN_STATE){
            System.out.println("è¯¥æˆ¿é—´å·²ç»æœ‰äººå…¥ä½äº†...");
        }
    }

    /**
     * @desc å…¥ä½
     * @return void
     */
    public void checkInRoom(){
        if(state == FREEMTIME_STATE){
            if(count > 0){
                System.out.println("ç©ºé—²æˆ¿é—´ï¼Œå…¥ä½...");
                state =  CHECKIN_STATE;     //æ”¹å˜çŠ¶æ€ï¼šå·²é¢„è®¢
                count --;
                //æˆ¿é—´é¢„è®¢å®Œäº†,æç¤ºå®¢æˆ·æ²¡æœ‰æˆ¿æºäº†
                if(count == 0){
                    System.out.println("ä¸å¥½æ„æ€,æˆ¿é—´å·²ç»é¢„è®¢å®Œ,æ¬¢è¿æ‚¨ä¸‹æ¬¡å…‰ä¸´...");
                }
            }
            else{
                System.out.println("ä¸å¥½æ„æ€,å·²ç»æ²¡æœ‰æˆ¿é—´äº†....");
            }

        }
        else if(state == BOOKED_STATE){
            if("å¦‚æœè¯¥æˆ¿é—´æ˜¯æ‚¨é¢„è®¢çš„"){
                System.out.println("å…¥ä½....");
                state = CHECKIN_STATE;
            }
            else{
                System.out.println("æ‚¨æ²¡æœ‰é¢„è®¢è¯¥æˆ¿é—´,è¯·å…ˆé¢„è®¢...");
            }
        }
        else if(state == CHECKIN_STATE){
            System.out.println("è¯¥æˆ¿é—´å·²ç»å…¥ä½äº†...");
        }
    }

    /**
     * @desc é€€è®¢
     * @return void
     */
    public void unsubscribeRoom(){
        if(state == FREEMTIME_STATE){
        }
        else if(state == CHECKIN_STATE){

        }
        else if(state == BOOKED_STATE){
            System.out.println("å·²é€€è®¢æˆ¿é—´...");
            state = FREEMTIME_STATE;
            count ++;
        }
    }

    /**
     * @desc é€€æˆ¿
     * @return void
     */
    public void checkOutRoom(){
        if(state == FREEMTIME_STATE){

        }
        else if(state == BOOKED_STATE){

        }
        else if(state == CHECKIN_STATE){
            System.out.println("å·²é€€æˆ¿..");
            state = FREEMTIME_STATE;
            count++;
        }
    }
```

â€‹      å¯¹äºä¸Šé¢çš„ä»£ç ä½ æ˜¯å¦æ»¡æ„å‘¢ï¼Ÿæ»¡æ„é‚£ä¹ˆä½ å°±æ²¡æœ‰å¿…è¦å¾€ä¸‹çœ‹äº†ï¼Œä¸æ»¡æ„æˆ‘ä»¬æ¥ç€è®²ã€‚

â€‹      æ­£å½“ä½ å®Œæˆè¿™ä¸ªâ€œå¤æ‚â€if..else if â€¦elseæ—¶(æˆ‘éƒ½å†™äº†ä¸€ä¼šå„¿)ï¼Œä½ å®¢æˆ·è¯´ï¼Œæˆ‘ä»¬éœ€è¦å°†æŸäº›æˆ¿é—´ä¿ç•™ä¸‹æ¥ä»¥ä½œä¸ºå¤‡ç”¨(standbyState)ï¼Œäºæ˜¯ä½ å‘ç°ä½ æ‚²å‰§äº†ï¼Œå› ä¸ºä½ å‘ç°ä½ è¦åœ¨æ‰€æœ‰çš„æ“ä½œé‡Œéƒ½è¦åˆ¤æ–­è¯¥æˆ¿é—´æ˜¯å¦ä¸ºå¤‡ç”¨æˆ¿é—´ã€‚å½“ä½ è€å¤§ç»è¿‡ä½ èº«è¾¹çš„æ—¶å€™å‘ç°ä½ æ­£åœ¨çº ç»“æ€ä¹ˆæ”¹çš„æ—¶å€™ï¼Œä½ è€å¤§å°±é—®ä½ ä¸ºä»€ä¹ˆä¸æ¢ä¸€ä¸ªè§’åº¦æ€è€ƒä»¥çŠ¶æ€ä¸ºåŸå­æ¥æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯é€šè¿‡è¡Œä¸ºæ¥æ”¹å˜çŠ¶æ€å‘¢ï¼Ÿäºæ˜¯ä½ å°±å­¦åˆ°äº†**çŠ¶æ€æ¨¡å¼ã€‚**

# ä¸€ã€æ¨¡å¼å®šä¹‰

â€‹      åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªå˜åŒ–çš„å±æ€§ï¼Œè¿™äº›å±æ€§æˆ‘ä»¬ç§°ä¹‹ä¸ºçŠ¶æ€ï¼Œè¿™ä¸ªå¯¹è±¡ç§°ä¹‹ä¸ºçŠ¶æ€å¯¹è±¡ã€‚å¯¹äºçŠ¶æ€å¯¹è±¡è€Œå·²ï¼Œå®ƒçš„è¡Œä¸ºä¾èµ–äºå®ƒçš„çŠ¶æ€ï¼Œæ¯”å¦‚ä½ è¦é¢„è®¢æˆ¿é—´ï¼Œé‚£ä¹ˆåªæœ‰å½“è¯¥æˆ¿é—´ä¸ºç©ºé—²æ—¶ä½ æ‰èƒ½é¢„è®¢ï¼Œä½ æƒ³å…¥ä½è¯¥æˆ¿é—´ä¹Ÿåªæœ‰å½“ä½ é¢„è®¢äº†è¯¥æˆ¿é—´æˆ–è€…è¯¥æˆ¿é—´ä¸ºç©ºé—²æ—¶ã€‚å¯¹äºè¿™æ ·çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå½“å®ƒåœ¨äºå¤–éƒ¨äº‹ä»¶äº§ç”Ÿäº’åŠ¨çš„æ—¶å€™ï¼Œå…¶å†…éƒ¨çŠ¶æ€å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä»è€Œä½¿å¾—ä»–çš„è¡Œä¸ºä¹Ÿéšä¹‹å‘ç”Ÿæ”¹å˜ã€‚

â€‹      é‚£ä¹ˆä½•ä¸ºçŠ¶æ€æ¨¡å¼å‘¢ï¼Ÿæ‰€è°“çŠ¶æ€æ¨¡å¼å°±æ˜¯å…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å®ƒçš„ç±»ã€‚

# äºŒã€æ¨¡å¼ç»“æ„

â€‹      ä¸‹å›¾ä¸ºçŠ¶æ€æ¨¡å¼çš„UMLå›¾ã€‚

[![å›¾ç‰‡2](http://cmsblogs.com/wp-content/uploads/2014/02/2_thumb.png)](http://cmsblogs.com/wp-content/uploads/2014/02/2.png)

â€‹      çŠ¶æ€æ¨¡å¼åŒ…å«å¦‚ä¸‹è§’è‰²ï¼š
         Context: ç¯å¢ƒç±»ã€‚å¯ä»¥åŒ…æ‹¬ä¸€äº›å†…éƒ¨çŠ¶æ€ã€‚

â€‹         State: æŠ½è±¡çŠ¶æ€ç±»ã€‚Stateå®šä¹‰äº†ä¸€ä¸ªæ‰€æœ‰å…·ä½“çŠ¶æ€çš„å…±åŒæ¥å£ï¼Œä»»ä½•çŠ¶æ€éƒ½å®ç°è¿™ä¸ªç›¸åŒçš„æ¥å£ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒçŠ¶æ€ä¹‹é—´å°±å¯ä»¥äº’ç›¸è½¬æ¢äº†ã€‚

â€‹         ConcreteState: å…·ä½“çŠ¶æ€ç±»ã€‚å…·ä½“çŠ¶æ€ç±»ï¼Œç”¨äºå¤„ç†æ¥è‡ªContextçš„è¯·æ±‚ï¼Œæ¯ä¸€ä¸ªConcreteStateéƒ½æä¾›äº†å®ƒå¯¹è‡ªå·±è¯·æ±‚çš„å®ç°ï¼Œæ‰€ä»¥ï¼Œå½“Contextæ”¹å˜çŠ¶æ€æ—¶è¡Œä¸ºä¹Ÿä¼šè·Ÿç€æ”¹å˜ã€‚

# ä¸‰ã€æ¨¡å¼å®ç°

â€‹      ä¾ç„¶æ˜¯ä¸Šé¢é‚£ä¸ªé…’åº—çš„å®ä¾‹ã€‚å¯¹äºè¯¥å®ä¾‹çš„UMLå›¾å¦‚ä¸‹ï¼š

[![aaaa](http://cmsblogs.com/wp-content/uploads/2014/02/aaaa_thumb.png)](http://cmsblogs.com/wp-content/uploads/2014/02/aaaa.png)



â€‹      é¦–å…ˆæ˜¯çŠ¶æ€æ¥å£ï¼šState

```Java
public interface State {
    /**
     * @desc é¢„è®¢æˆ¿é—´
     * @return void
     */
    public void bookRoom();

    /**
     * @desc é€€è®¢æˆ¿é—´
     * @return void
     */
    public void unsubscribeRoom();

    /**
     * @desc å…¥ä½
     * @return void
     */
    public void checkInRoom();

    /**
     * @desc é€€æˆ¿
     * @return void
     */
    public void checkOutRoom();

}
```

â€‹      ç„¶åæ˜¯æˆ¿é—´ç±»

```Java
public class Room {
    /*
     * æˆ¿é—´çš„ä¸‰ä¸ªçŠ¶æ€
     */
    State freeTimeState;    //ç©ºé—²çŠ¶æ€
    State checkInState;     //å…¥ä½çŠ¶æ€
    State bookedState;      //é¢„è®¢çŠ¶æ€

    State state ;

    public Room(){
        freeTimeState = new FreeTimeState(this);
        checkInState = new CheckInState(this);
        bookedState = new BookedState(this);

        state = freeTimeState ;  //åˆå§‹çŠ¶æ€ä¸ºç©ºé—²
    }

    /**
     * @desc é¢„è®¢æˆ¿é—´
     * @return void
     */
    public void bookRoom(){
        state.bookRoom();
    }

    /**
     * @desc é€€è®¢æˆ¿é—´
     * @return void
     */
    public void unsubscribeRoom(){
        state.unsubscribeRoom();
    }

    /**
     * @desc å…¥ä½
     * @return void
     */
    public void checkInRoom(){
        state.checkInRoom();
    }

    /**
     * @desc é€€æˆ¿
     * @return void
     */
    public void checkOutRoom(){
        state.checkOutRoom();
    }

    public String toString(){
        return "è¯¥æˆ¿é—´çš„çŠ¶æ€æ˜¯:"+getState().getClass().getName();
    }

    /*
     * getterå’Œsetteræ–¹æ³•
     */

    public State getFreeTimeState() {
        return freeTimeState;
    }

    public void setFreeTimeState(State freeTimeState) {
        this.freeTimeState = freeTimeState;
    }

    public State getCheckInState() {
        return checkInState;
    }

    public void setCheckInState(State checkInState) {
        this.checkInState = checkInState;
    }

    public State getBookedState() {
        return bookedState;
    }

    public void setBookedState(State bookedState) {
        this.bookedState = bookedState;
    }

    public State getState() {
        return state;
    }

    public void setState(State state) {
        this.state = state;
    }

}
```

â€‹      ç„¶åæ˜¯3ä¸ªçŠ¶æ€ç±»,è¿™ä¸ªä¸‰ä¸ªçŠ¶æ€åˆ†åˆ«å¯¹äºè¿™:ç©ºé—²ã€é¢„è®¢ã€å…¥ä½ã€‚å…¶ä¸­ç©ºé—²å¯ä»¥å®Œæˆé¢„è®¢å’Œå…¥ä½ä¸¤ä¸ªåŠ¨ä½œï¼Œé¢„è®¢å¯ä»¥å®Œæˆå…¥ä½å’Œé€€è®¢ä¸¤ä¸ªåŠ¨ä½œï¼Œå…¥ä½å¯ä»¥é€€æˆ¿ã€‚

```Java
/**
 * @project: design_state
 * @author chenssy
 * @date 2013-8-24
 * @Description: ç©ºé—²çŠ¶æ€åªèƒ½é¢„è®¢å’Œå…¥ä½
 */
public class FreeTimeState implements State {

    Room hotelManagement;

    public FreeTimeState(Room hotelManagement){
        this.hotelManagement = hotelManagement;
    }


    public void bookRoom() {
        System.out.println("æ‚¨å·²ç»æˆåŠŸé¢„è®¢äº†...");
        hotelManagement.setState(hotelManagement.getBookedState());   //çŠ¶æ€å˜æˆå·²ç»é¢„è®¢
    }

    public void checkInRoom() {
        System.out.println("æ‚¨å·²ç»æˆåŠŸå…¥ä½äº†...");
        hotelManagement.setState(hotelManagement.getCheckInState());   //çŠ¶æ€å˜æˆå·²ç»å…¥ä½
    }

    public void checkOutRoom() {
        //ä¸éœ€è¦åšæ“ä½œ
    }

    public void unsubscribeRoom() {
        //ä¸éœ€è¦åšæ“ä½œ
    }

}
```



```Java
/**
 * @project: design_state
 * @author chenssy
 * @date 2013-8-24
 * @Description: å…¥ä½çŠ¶æ€æˆ¿é—´åªèƒ½é€€æˆ¿
 */
public class BookedState implements State {
    Room hotelManagement;

    public BookedState(Room hotelManagement) {
        this.hotelManagement = hotelManagement;
    }

    public void bookRoom() {
        System.out.println("è¯¥æˆ¿é—´å·²è¿‘ç»™é¢„å®šäº†...");
    }

    public void checkInRoom() {
        System.out.println("å…¥ä½æˆåŠŸ...");
        hotelManagement.setState(hotelManagement.getCheckInState());         //çŠ¶æ€å˜æˆå…¥ä½
    }

    public void checkOutRoom() {
        //ä¸éœ€è¦åšæ“ä½œ
    }

    public void unsubscribeRoom() {
        System.out.println("é€€è®¢æˆåŠŸ,æ¬¢è¿ä¸‹æ¬¡å…‰ä¸´...");
        hotelManagement.setState(hotelManagement.getFreeTimeState());   //å˜æˆç©ºé—²çŠ¶æ€
    }

}
```



```Java
/**
 * @project: design_state
 * @author chenssy
 * @date 2013-8-24
 * @Description: å…¥ä½å¯ä»¥é€€æˆ¿
 */
public class CheckInState implements State {
    Room hotelManagement;
    public CheckInState(Room hotelManagement) {
        this.hotelManagement = hotelManagement;
    }

    public void bookRoom() {
        System.out.println("è¯¥æˆ¿é—´å·²ç»å…¥ä½äº†...");
    }

    public void checkInRoom() {
        System.out.println("è¯¥æˆ¿é—´å·²ç»å…¥ä½äº†...");
    }

    public void checkOutRoom() {
        System.out.println("é€€æˆ¿æˆåŠŸ....");
        hotelManagement.setState(hotelManagement.getFreeTimeState());     //çŠ¶æ€å˜æˆç©ºé—²
    }

    public void unsubscribeRoom() {
        //ä¸éœ€è¦åšæ“ä½œ
    }

}
```

â€‹      æœ€åæ˜¯æµ‹è¯•ç±»

```Java
public class Test {
    public static void main(String[] args) {
        //æœ‰3é—´æˆ¿
        Room[] rooms = new Room[2];
        //åˆå§‹åŒ–
        for(int i = 0 ; i < rooms.length ; i++){
            rooms[i] = new Room();
        }
        //ç¬¬ä¸€é—´æˆ¿
        rooms[0].bookRoom();    //é¢„è®¢
        rooms[0].checkInRoom();   //å…¥ä½
        rooms[0].bookRoom();    //é¢„è®¢
        System.out.println(rooms[0]);
        System.out.println("---------------------------");

        //ç¬¬äºŒé—´æˆ¿
        rooms[1].checkInRoom();
        rooms[1].bookRoom();
        rooms[1].checkOutRoom();
        rooms[1].bookRoom();
        System.out.println(rooms[1]);
    }

}
```

â€‹      è¿è¡Œç»“æœ

[![1111](http://cmsblogs.com/wp-content/uploads/2014/02/1111_thumb2.jpg)](http://cmsblogs.com/wp-content/uploads/2014/02/11113.jpg)

















# å››ã€æ¨¡å¼ä¼˜ç¼ºç‚¹

## ä¼˜ç‚¹

â€‹      1ã€å°è£…äº†è½¬æ¢è§„åˆ™ã€‚
      2ã€æšä¸¾å¯èƒ½çš„çŠ¶æ€ï¼Œåœ¨æšä¸¾çŠ¶æ€ä¹‹å‰éœ€è¦ç¡®å®šçŠ¶æ€ç§ç±»ã€‚

â€‹      3ã€å°†æ‰€æœ‰ä¸æŸä¸ªçŠ¶æ€æœ‰å…³çš„è¡Œä¸ºæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°å¢åŠ æ–°çš„çŠ¶æ€ï¼Œåªéœ€è¦æ”¹å˜å¯¹è±¡çŠ¶æ€å³å¯æ”¹å˜å¯¹è±¡çš„è¡Œä¸ºã€‚      4ã€å…è®¸çŠ¶æ€è½¬æ¢é€»è¾‘ä¸çŠ¶æ€å¯¹è±¡åˆæˆä¸€ä½“ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªå·¨å¤§çš„æ¡ä»¶è¯­å¥å—ã€‚

â€‹      5ã€å¯ä»¥è®©å¤šä¸ªç¯å¢ƒå¯¹è±¡å…±äº«ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œä»è€Œå‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•°ã€‚

## ç¼ºç‚¹

â€‹      1ã€çŠ¶æ€æ¨¡å¼çš„ä½¿ç”¨å¿…ç„¶ä¼šå¢åŠ ç³»ç»Ÿç±»å’Œå¯¹è±¡çš„ä¸ªæ•°ã€‚
      2ã€çŠ¶æ€æ¨¡å¼çš„ç»“æ„ä¸å®ç°éƒ½è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å°†å¯¼è‡´ç¨‹åºç»“æ„å’Œä»£ç çš„æ··ä¹±ã€‚

â€‹      3ã€çŠ¶æ€æ¨¡å¼å¯¹â€œå¼€é—­åŸåˆ™â€çš„æ”¯æŒå¹¶ä¸å¤ªå¥½ï¼Œå¯¹äºå¯ä»¥åˆ‡æ¢çŠ¶æ€çš„çŠ¶æ€æ¨¡å¼ï¼Œå¢åŠ æ–°çš„çŠ¶æ€ç±»éœ€è¦ä¿®æ”¹é‚£äº›è´Ÿè´£çŠ¶æ€è½¬æ¢çš„æºä»£ç ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢åˆ°æ–°å¢çŠ¶æ€ï¼›è€Œä¸”ä¿®æ”¹æŸä¸ªçŠ¶æ€ç±»çš„è¡Œä¸ºä¹Ÿéœ€ä¿®æ”¹å¯¹åº”ç±»çš„æºä»£ç ã€‚

# äº”ã€æ¨¡å¼é€‚ç”¨åœºæ™¯

â€‹     1ã€å¯¹è±¡çš„è¡Œä¸ºä¾èµ–äºå®ƒçš„çŠ¶æ€ï¼ˆå±æ€§ï¼‰å¹¶ä¸”å¯ä»¥æ ¹æ®å®ƒçš„çŠ¶æ€æ”¹å˜è€Œæ”¹å˜å®ƒçš„ç›¸å…³è¡Œä¸ºã€‚
     2ã€ä»£ç ä¸­åŒ…å«å¤§é‡ä¸å¯¹è±¡çŠ¶æ€æœ‰å…³çš„æ¡ä»¶è¯­å¥

# å…­ã€æ¨¡å¼æ€»ç»“

â€‹     1ã€çŠ¶æ€æ¨¡å¼å…è®¸ä¸€ä¸ªå¯¹è±¡åŸºäºå†…éƒ¨çŠ¶æ€è€Œæ‹¥æœ‰ä¸åŒçš„è¡Œä¸ºã€‚

â€‹     2ã€Contextä¼šå°†è¡Œä¸ºå§”æ‰˜ç»™å½“å‰çŠ¶æ€å¯¹è±¡ã€‚

â€‹     3ã€çŠ¶æ€æ¨¡å¼å¯¹â€œå¼€é—­åŸåˆ™â€æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚

# 666. å½©è›‹

å¦‚æœä½ å¯¹ è®¾è®¡æ¨¡å¼ æ„Ÿå…´è¶£ï¼Œæ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†ä¸€èµ·äº¤æµã€‚

![çŸ¥è¯†æ˜Ÿçƒ](http://www.iocoder.cn/images/Architecture/2017_12_29/01.png)