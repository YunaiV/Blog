title: ã€è®¾è®¡æ¨¡å¼è¯»ä¹¦ç¬”è®°ã€‘è¿­ä»£å™¨æ¨¡å¼
date: 2018-01-18
tags:
categories: è®¾è®¡æ¨¡å¼
permalink: DesignPattern/xiaomingge/Iterator-Pattern
author: å°æ˜å“¥
from_url: http://www.cnblogs.com/chenssy/p/3250409.html
wechat_url:

-------

æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://www.cnblogs.com/chenssy/p/3250409.html ã€Œå°æ˜å“¥ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

- [ä¸€ã€æ¨¡å¼å®šä¹‰](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
- [äºŒã€æ¨¡å¼ç»“æ„](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
- [ä¸‰ã€æ¨¡å¼å®ç°](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
- [å››ã€æ¨¡å¼ä¼˜ç¼ºç‚¹](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
  - [ä¼˜ç‚¹](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
  - [ç¼ºç‚¹](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
- [äº”ã€æ¨¡å¼ä½¿ç”¨åœºæ™¯](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)
- [å…­ã€æ¨¡å¼æ€»ç»“](http://www.iocoder.cn/DesignPattern/xiaomingge/Iterator-Pattern/)

-------

![](http://www.iocoder.cn/images/common/wechat_mp_2017_07_31.jpg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘**æœ‰ç¦åˆ©ï¼š
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚
> 5. **è®¤çœŸçš„**æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚

-------

ä½ é¡¹ç›®ç»„æ¥åˆ°ä¸€ä¸ªé¡¹ç›®ï¼šå¯¹ç”µè§†æœºçš„ç”µè§†é¢‘é“ã€ç”µå½±å’Œæ”¶éŸ³æœºèœå•è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå»ºç«‹ä¸€ä¸ªç»Ÿä¸€çš„èœå•ç®¡ç†ç•Œé¢ï¼Œèƒ½å¤Ÿçœ‹åˆ°æ‰€æœ‰çš„ç”µè§†ç•Œé¢ã€ç”µå½±ç•Œé¢å’Œæ”¶éŸ³æœºé¢‘é“ã€‚ä½ æœ‰ä¸‰ä¸ªæ‰‹ä¸‹ï¼šå°æå­ã€å°æå­ã€å°å®‰å­ï¼Œä»–ä»¬åˆ†åˆ«å°±æ¯ä¸ªæ¨¡å—åšå¼€å‘å·¥ä½œï¼Œçœ‹ä»–ä»¬éƒ½åšäº†å“ªäº›å·¥ä½œã€‚

è¿™æ˜¯ä¸»èœå•JavaBeanï¼Œç”¨äºæ˜¾ç¤ºæ¯ä¸ªæ¨¡å—çš„èœå•ã€‚



```Java
public class MenuItem {
    private String name;
    private String description;
    private int channe;

    public MenuItem(int channe,String name,String description){
        this.name = name;
        this.description = description;
        this.channe = channe;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public int getChanne() {
        return channe;
    }

    public void setChanne(int channe) {
        this.channe = channe;
    }

}
```



å°æå­è´Ÿè´£ç”µè§†é¢‘é“èœå•çš„å®ç°ã€‚ä»–æ˜¯ä½¿ç”¨Listå®ç°çš„ï¼Œä»–è®¤ä¸ºè¿™æ ·å°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ‰©å±•èœå•ã€‚



```Java
public class TVChanneMenu implements TelevisionMenu{
    List<MenuItem> menuItems;

    /**
     * æ„é€ å‡½æ•°å®Œæˆåˆå§‹åŒ–
     */
    public TVChanneMenu(){
        menuItems = new ArrayList<MenuItem>();
        addItem(1, "CCTV-1", "This is CCTV-1");
        addItem(2, "CCTV-2", "This is CCTV-2");
        addItem(3, "CCTV-3", "This is CCTV-3");
        addItem(4, "CCTV-4", "This is CCTV-4");
        addItem(5, "CCTV-5", "This is CCTV-5");
    }

    /**
     * @desc å°†ç”µè§†é¢‘é“èŠ‚ç›®æ·»åŠ èœå•é›†åˆä¸­
     * @param channe  é¢‘é“
     * @param name  åç§°
     * @param description  æè¿°
     * @return void
     */
    public void addItem(int channe,String name,String description){
        MenuItem tvMenuItem = new MenuItem(channe, name, description);
        menuItems.add(tvMenuItem);
    }

    public List<MenuItem> getMenuItems() {
        return menuItems;
    }

}
```



å°æå­è´Ÿè´£ç”µå½±èœå•æ¨¡å—çš„å¼€å‘ã€‚å¥¹æ˜¯ä½¿ç”¨æ•°ç»„å®Œæˆçš„ï¼Œä»–è®¤ä¸ºæ•°ç»„çš„æ•ˆç‡é«˜äº›ï¼Œè€Œä¸”èƒ½å¤Ÿæ§åˆ¶èœå•çš„é•¿åº¦ã€‚



```Java
public class FilmMenu implements TelevisionMenu{
    static final int MAX_ITEMS = 5;    //èœå•æœ€å¤§é•¿åº¦
    MenuItem[] menuItems;
    int numberOfItems = 0;

    /**
     * æ„é€ å‡½æ•°å®Œæˆåˆå§‹åŒ–
     */
    public FilmMenu(){
        menuItems = new MenuItem[MAX_ITEMS];

        addItem(1, "ç»ä¸–å¤©åŠ«", "è¿™æ˜¯å¸ƒé²æ–¯å¨åˆ©æ–¯ä¸»æ¼”çš„...");
        addItem(2, "è¾¾èŠ¬å¥‡å¯†ç ", "è¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„ç”µå½±ä¹‹ä¸€...");
        addItem(3, "é»‘å®¢å¸å›½123", "ä¸çŸ¥é“ä½ èƒ½å¤Ÿçœ‹æ‡‚ä¸???");
        addItem(4, "æˆ‘çš„å¥³å‹æ˜¯æœºå™¨äºº", "ä¸€éƒ¨æˆ‘ä¸åæ„Ÿçš„ç»å…¸çˆ±æƒ…ç”µå½±...");
        addItem(5, "è‚–ç”³å…‹çš„æ•‘èµ", "è‡ªç”±ï¼Œå¹¸ç¦ï¼Œç¦»ä½ æœ‰å¤šè¿œ");
    }

    /**
     * @desc å°†ç”µå½±è§£å†³æ·»åŠ åˆ°èœå•é¡¹ä¸­
     * @param channe
     * @param name
     * @param description
     * @return void
     */
    public void addItem(int channe,String name,String description){
        MenuItem tvmenuiItem = new MenuItem(channe, name, description);
        //åˆ¤æ–­æ•°ç»„æ˜¯å¦è¶Šç•Œ
        if(numberOfItems > MAX_ITEMS){
            System.out.println("ä¸å¥½æ„æ€ï¼Œèœå•æ»¡äº†....");
        }
        else{
            menuItems[numberOfItems] = tvmenuiItem;
            numberOfItems ++;
        }
    }

    public MenuItem[] getMenuItems() {
        return menuItems;
    }

}
```



è¿™é‡Œå°±åªä»‹ç»ä¸¤ä¸ªäº†ã€‚ä»–ä»¬å®Œæˆäº†å„è‡ªèœå•åŠŸèƒ½çš„å®ç°ï¼Œå½“ä½ åœ¨åšä¸‰ä¸ªèœå•çš„ç»Ÿä¸€æ˜¾ç¤ºæ—¶ï¼Œä½ å¿…é¡»è¦è¦è°ƒç”¨ä»–ä»¬çš„getMenuItems()ï¼Œæ¥å–å¾—ä»–ä»¬å„ä¸ªèœå•é‡Œé¢çš„å€¼ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™é—®é¢˜å‡ºç°äº†ï¼Œä½ å‘ç°ä»–ä»¬çš„è¿”å›å€¼éƒ½ä¸ç›¸åŒï¼Œè¦æƒ³å±•ç¤ºå‡ºæ¥ä½ å¿…é¡»è¿™ä¹ˆå¹²ã€‚



```Java
List<MenuItem> tvMenuItems = tvMenu.getMenuItems();
        for(int i = 0 ; i < tvMenuItems.size() ; i++){
            MenuItem menuItem = tvMenuItems.get(i);
            ............
        }

        FilmMenu filmMenu = new FilmMenu();
        MenuItem[] filmItems = filmMenu.getMenuItems();
        for(int i = 0 ; i < filmItems.length ; i++){
            MenuItem menuItem = filmItems[i];
            ............
        }
```



åœ¨è¿™é‡Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦æ¥å¤„ç†è¿™ä¸ªä¸¤ä¸ªèœå•ï¼Œé€šè¿‡å¾ªç¯æ¥éå†è¿™äº›èœå•é€‰é¡¹ï¼Œå¦‚æœå°å®‰å­çš„å®ç°ä¹Ÿä¸åŒå‘¢ï¼Ÿæ˜¯ä¸æ˜¯å¾—è¦ä¸‰ä¸ªå¾ªç¯å‘¢ï¼Ÿå¦‚æœä¸‹æ¬¡æœ‰éœ€è¦å¢åŠ ä¸€ä¸ªæ¨¡å—å‘¢ï¼Ÿåœ¨è¿™é‡Œä½ å°±æ¼ç«äº†ï¼Œä»–ä»¬ä¸ºä»€ä¹ˆä¸é‡‡ç”¨ç›¸åŒçš„å®ç°æ–¹å¼ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä½ ä¹Ÿä¸å¯èƒ½è®©ä»–ä»¬å»æ›´æ”¹äº†ï¼Œä»–ä»¬æœ‰å¤ªå¤šçš„ä»£ç åœ¨ä¾èµ–ç€è¿™ä¸ªä¸¤ä¸ªèœå•äº†ï¼Œå¦‚æœæ›´æ”¹å°±æ„å‘³ç€è¦é‡å†™å¾ˆå¤šçš„ä»£ç äº†ã€‚æ‰€ä»¥ä½ å°±æƒ³æ˜¯ä¸æ˜¯å¯ä»¥æ¥å°è£…å¾ªç¯å‘¢ï¼Ÿä¸é”™å°±æ˜¯**å°è£…éå†**ã€‚è¿™å°±æ˜¯è¿­ä»£å™¨æ¨¡å¼çš„åŠ¨æœº--**èƒ½å¤Ÿæ¸¸èµ°äºèšåˆå†…çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶è¿˜å¯ä»¥æä¾›å¤šç§ä¸åŒçš„éå†æ–¹å¼ã€‚**

# ä¸€ã€æ¨¡å¼å®šä¹‰

ä½•è°“è¿­ä»£å™¨æ¨¡å¼ï¼Ÿ**æ‰€è°“è¿­ä»£å™¨æ¨¡å¼å°±æ˜¯æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œä¸æ˜¯æš´éœ²å…¶å†…éƒ¨çš„è¡¨ç¤º**ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦é’ˆå¯¹ä¸åŒçš„éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦ä»¥ä¸åŒçš„æ–¹å¼æ¥éå†æ•´ä¸ªæ•´åˆå¯¹è±¡ï¼Œä½†æ˜¯**æˆ‘ä»¬ä¸å¸Œæœ›åœ¨èšåˆå¯¹è±¡çš„æŠ½è±¡æ¥å£å±‚ä¸­å……æ–¥ç€å„ç§ä¸åŒçš„ä¾¿åˆ©æ“ä½œ**ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦è¿™æ ·ä¸€ç§ä¸œè¥¿ï¼Œå®ƒåº”è¯¥å…·å¤‡å¦‚ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š

1ã€èƒ½å¤Ÿä¾¿åˆ©ä¸€ä¸ªèšåˆå¯¹è±¡ã€‚

2ã€æˆ‘ä»¬ä¸éœ€è¦äº†è§£èšåˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„ã€‚

3ã€èƒ½å¤Ÿæä¾›å¤šç§ä¸åŒçš„éå†æ–¹å¼ã€‚

è¿™ä¸‰ä¸ªåŠŸèƒ½å°±æ˜¯è¿­ä»£å™¨æ¨¡å¼éœ€è¦è§£å†³çš„é—®é¢˜ã€‚ä½œä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ¨¡å¼ï¼Œ**è¿­ä»£å™¨æ¨¡å¼æŠŠåœ¨å…ƒç´ ä¹‹é—´æ¸¸èµ°çš„è´£ä»»äº¤ç»™è¿­ä»£å™¨ï¼Œè€Œä¸æ˜¯èšåˆå¯¹è±¡**ã€‚è¿™æ ·åšå°±ç®€åŒ–äº†èšåˆçš„æ¥å£å’Œå®ç°ï¼Œä¹Ÿå¯ä»¥è®©èšåˆæ›´ä¸“æ³¨åœ¨å®ƒæ‰€åº”è¯¥ä¸“æ³¨çš„äº‹æƒ…ä¸Šï¼Œè¿™æ ·åšå°±æ›´åŠ **ç¬¦åˆå•ä¸€è´£ä»»åŸåˆ™**ã€‚

# äºŒã€æ¨¡å¼ç»“æ„

ä¸‹å›¾æ˜¯è¿­ä»£å™¨æ¨¡å¼UMLå›¾ã€‚

[![clip_image001](http://static.iocoder.cn/cnblogs/blog/381060/201308/10185612-36560747fcc5496a87a3b7fbd6f07d73.jpg)](http://static.iocoder.cn/cnblogs/blog/381060/201308/10185611-f1a9a6a1c2bf4b7089596c4b7d85f682.jpg)

ä»ä¸Šé¢å¯ä»¥çœ‹ä¹¦è¿­ä»£å™¨æ¨¡å¼æœ‰å¦‚ä¸‹å‡ ä¸ªè§’è‰²ï¼š

Iterator: æŠ½è±¡è¿­ä»£å™¨ï¼šæ‰€æœ‰è¿­ä»£å™¨éƒ½éœ€è¦å®ç°çš„æ¥å£ï¼Œæä¾›äº†æ¸¸èµ°èšåˆå¯¹è±¡å…ƒç´ ä¹‹é—´çš„æ–¹æ³•ã€‚

ConcreteIterator: å…·ä½“è¿­ä»£å™¨ã€‚åˆ©ç”¨è¿™ä¸ªå…·ä½“çš„è¿­ä»£å™¨èƒ½å¤Ÿå¯¹å…·ä½“çš„èšåˆå¯¹è±¡è¿›è¡Œéå†ã€‚æ¯ä¸€ä¸ªèšåˆå¯¹è±¡éƒ½åº”è¯¥å¯¹åº”ä¸€ä¸ªå…·ä½“çš„è¿­ä»£å™¨ã€‚

Aggregate: æŠ½è±¡èšåˆç±»ã€‚

ConcreteAggregate: å…·ä½“èšåˆç±»ã€‚å®ç°creatorIterator()æ–¹æ³•ï¼Œè¿”å›è¯¥èšåˆå¯¹è±¡çš„è¿­ä»£å™¨ã€‚

# ä¸‰ã€æ¨¡å¼å®ç°

â€‹     ä¸‹é¢åˆ©ç”¨è¿­ä»£å™¨æ¨¡å¼å¯¹ä¸Šé¢æ¡ˆä¾‹è¿›è¡Œä¼˜åŒ–æ•´æ”¹ã€‚ä¸‹é¢æ˜¯æ­£å¯¹è¯¥å®ä¾‹çš„UMLå›¾ã€‚

[![clip_image002](http://static.iocoder.cn/cnblogs/blog/381060/201308/10185612-9c3fdf6fb83445aaa89076a84ac01778.jpg)](http://static.iocoder.cn/cnblogs/blog/381060/201308/10185612-ac0606bb73254e6c9c181271004619e0.jpg)

é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰è¿­ä»£å™¨æ¥å£ã€‚Iterator.java

```Java
public interface Iterator {
    boolean hasNext();
    Object next();
}
```

ç„¶åæ˜¯æˆ‘ä»¬ä¸¤ä¸ªå…·ä½“çš„è¿­ä»£å™¨ã€‚ä¸€ä¸ªè¿­ä»£å™¨éå†ç”µè§†ç•Œé¢ã€ä¸€ä¸ªè¿­ä»£å™¨éå†ç”µå½±ç•Œé¢ã€‚

ç”µå½±èŠ‚ç›®çš„è¿­ä»£å™¨ï¼šFilmMenuIterator.java



```Java
public class FilmMenuIterator implements Iterator{
    MenuItem[] menuItems;
    int position = 0;

    public FilmMenuIterator(MenuItem[] menuItems){
        this.menuItems = menuItems;
    }

    public boolean hasNext() {
        if(position > menuItems.length-1 || menuItems[position] == null){
            return false;
        }
        return true;
    }

    public Object next() {
        MenuItem menuItem = menuItems[position];
        position ++;
        return menuItem;
    }

}
```



ç”µè§†ç•Œé¢çš„è¿­ä»£å™¨ï¼šTVChanneMenuIterator.java



```Java
public class TVChanneMenuIterator implements Iterator{

    List<MenuItem> menuItems;
    int position = 0;

    public TVChanneMenuIterator(List<MenuItem> menuItems){
        this.menuItems = menuItems;
    }

    public boolean hasNext() {
        if(position > menuItems.size()-1 || menuItems.get(position) == null){
            return false;
        }
        else{
            return true;
        }
    }

    public Object next() {
        MenuItem menuItem = menuItems.get(position);
        position ++;
        return menuItem;
    }
}
```



ç„¶åæ˜¯èœå•æ¥å£ï¼Œè¯¥æ¥å£æä¾›è¿”å›å…·ä½“è¿­ä»£å™¨çš„æ–¹æ³•ï¼šcreateIterator()ã€‚

```Java
public interface TelevisionMenu {
    public void addItem(int channe,String name,String description);
    public Iterator createIrerator();
}
```

ä¸¤ä¸ªå…·ä½“èšåˆç±»ã€‚è¿™ä¸ªä¸¤ä¸ªèšåˆç±»å®ç°createIterator()æ–¹æ³•ï¼Œåˆ†åˆ«è¿”å›ç”µè§†ç•Œé¢çš„èšåˆç±»å’Œç”µå½±ç•Œé¢çš„èšåˆç±»ã€‚



```Java
public class FilmMenu implements TelevisionMenu{
    static final int MAX_ITEMS = 5;    //èœå•æœ€å¤§é•¿åº¦
    MenuItem[] menuItems;
    int numberOfItems = 0;

    /**
     * æ„é€ å‡½æ•°å®Œæˆåˆå§‹åŒ–
     */
    public FilmMenu(){
        menuItems = new MenuItem[MAX_ITEMS];

        addItem(1, "ç»ä¸–å¤©åŠ«", "è¿™æ˜¯å¸ƒé²æ–¯å¨åˆ©æ–¯ä¸»æ¼”çš„...");
        addItem(2, "è¾¾èŠ¬å¥‡å¯†ç ", "è¿™æ˜¯æˆ‘æœ€å–œæ¬¢çš„ç”µå½±ä¹‹ä¸€...");
        addItem(3, "é»‘å®¢å¸å›½123", "ä¸çŸ¥é“ä½ èƒ½å¤Ÿçœ‹æ‡‚ä¸???");
        addItem(4, "æˆ‘çš„å¥³å‹æ˜¯æœºå™¨äºº", "ä¸€éƒ¨æˆ‘ä¸åæ„Ÿçš„ç»å…¸çˆ±æƒ…ç”µå½±...");
        addItem(5, "è‚–ç”³å…‹çš„æ•‘èµ", "è‡ªç”±ï¼Œå¹¸ç¦ï¼Œç¦»ä½ æœ‰å¤šè¿œ");
    }

    /**
     * @desc å°†ç”µå½±è§£å†³æ·»åŠ åˆ°èœå•é¡¹ä¸­
     * @param channe
     * @param name
     * @param description
     * @return void
     */
    public void addItem(int channe,String name,String description){
        MenuItem tvmenuiItem = new MenuItem(channe, name, description);
        //åˆ¤æ–­æ•°ç»„æ˜¯å¦è¶Šç•Œ
        if(numberOfItems > MAX_ITEMS){
            System.out.println("ä¸å¥½æ„æ€ï¼Œèœå•æ»¡äº†....");
        }
        else{
            menuItems[numberOfItems] = tvmenuiItem;
            numberOfItems ++;
        }
    }

    public Iterator createIrerator() {
        return new FilmMenuIterator(menuItems);
    }

}
```







```Java
public class TVChanneMenu implements TelevisionMenu{
    List<MenuItem> menuItems;

    /**
     * æ„é€ å‡½æ•°å®Œæˆåˆå§‹åŒ–
     */
    public TVChanneMenu(){
        menuItems = new ArrayList<MenuItem>();
        addItem(1, "CCTV-1", "This is CCTV-1");
        addItem(2, "CCTV-2", "This is CCTV-2");
        addItem(3, "CCTV-3", "This is CCTV-3");
        addItem(4, "CCTV-4", "This is CCTV-4");
        addItem(5, "CCTV-5", "This is CCTV-5");
    }

    /**
     * @desc å°†ç”µè§†é¢‘é“èŠ‚ç›®æ·»åŠ èœå•é›†åˆä¸­
     * @param channe  é¢‘é“
     * @param name  åç§°
     * @param description  æè¿°
     * @return void
     */
    public void addItem(int channe,String name,String description){
        MenuItem tvMenuItem = new MenuItem(channe, name, description);
        menuItems.add(tvMenuItem);
    }

    public Iterator createIrerator() {
        return new TVChanneMenuIterator(menuItems);
    }

}
```



ç»ˆäºå®Œæˆäº†ï¼Œç°åœ¨å°±å¯ä»¥æ¥å®ç°ä¸»èœå•äº†ï¼Œç”¨æ¥å±•ç¤ºã€éå†æ‰€æœ‰çš„ç”µè§†ã€ç”µå½±ç•Œé¢å’¯ã€‚



```Java
public class MainMenu {
    TelevisionMenu tvMenu;
    FilmMenu filmMenu;

    public MainMenu(TelevisionMenu tvMenu,FilmMenu filmMenu){
        this.tvMenu = tvMenu;
        this.filmMenu  = filmMenu;
    }

    public void printMenu(){
        Iterator tvIterator = tvMenu.createIrerator();
        Iterator filmIterator = filmMenu.createIrerator();

        System.out.println("ç”µè§†èŠ‚ç›®æœ‰:");
        printMenu(tvIterator);
        System.out.println("----------------------------------------------------------------");
        System.out.println("ç”µå½±èŠ‚ç›®æœ‰:");
        printMenu(filmIterator);
    }

    private void printMenu(Iterator iterator) {
        while(iterator.hasNext()){
            MenuItem menuItem = (MenuItem) iterator.next();
            System.out.print("channe:"+menuItem.getChanne()+",  ");
            System.out.print("name:"+menuItem.getName()+",  ");
            System.out.println("description :"+menuItem.getDescription());
        }
    }
}
```



æµ‹è¯•ç¨‹åºï¼š



```Java
public class Test {
    public static void main(String[] args) {
        TVChanneMenu tvMenu = new TVChanneMenu();
        FilmMenu filmMenu = new FilmMenu();

        MainMenu mainMenu = new MainMenu(tvMenu, filmMenu);
        mainMenu.printMenu();
    }
}
```



è¿è¡Œç»“æœ

[![clip_image003](http://static.iocoder.cn/cnblogs/blog/381060/201308/10185613-baeac8565dbc4b338f1e0fec233060ea.jpg)](http://static.iocoder.cn/cnblogs/blog/381060/201308/10185613-274cc3fe9cda40aa8645306e5eb06642.jpg)

# å››ã€æ¨¡å¼ä¼˜ç¼ºç‚¹

## ä¼˜ç‚¹

1ã€å®ƒæ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ã€‚

2ã€è¿­ä»£å™¨ç®€åŒ–äº†èšåˆç±»ã€‚

3ã€åœ¨åŒä¸€ä¸ªèšåˆä¸Šå¯ä»¥æœ‰å¤šä¸ªéå†ã€‚

4ã€åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚

## ç¼ºç‚¹

ç”±äºè¿­ä»£å™¨æ¨¡å¼å°†å­˜å‚¨æ•°æ®å’Œéå†æ•°æ®çš„èŒè´£åˆ†ç¦»ï¼Œå¢åŠ æ–°çš„èšåˆç±»éœ€è¦å¯¹åº”å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»ï¼Œç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚

# äº”ã€æ¨¡å¼ä½¿ç”¨åœºæ™¯

1ã€è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚

2ã€éœ€è¦ä¸ºèšåˆå¯¹è±¡æä¾›å¤šç§éå†æ–¹å¼ã€‚

3ã€ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚

# å…­ã€æ¨¡å¼æ€»ç»“

1ã€è¿­ä»£å™¨æ¨¡å¼æä¾›ä¸€ç§æ–¹æ³•æ¥è®¿é—®èšåˆå¯¹è±¡ï¼Œè€Œä¸ç”¨æš´éœ²è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚

2ã€å°†éå†èšåˆå¯¹è±¡ä¸­æ•°æ®çš„è¡Œä¸ºæå–å‡ºæ¥ï¼Œå°è£…åˆ°ä¸€ä¸ªè¿­ä»£å™¨ä¸­ï¼Œé€šè¿‡ä¸“é—¨çš„è¿­ä»£å™¨æ¥éå†èšåˆå¯¹è±¡çš„å†…éƒ¨æ•°æ®ï¼Œè¿™å°±æ˜¯è¿­ä»£å™¨æ¨¡å¼çš„æœ¬è´¨ã€‚è¿­ä»£å™¨æ¨¡å¼æ˜¯â€œå•ä¸€èŒè´£åŸåˆ™â€çš„å®Œç¾ä½“ç°ã€‚

3ã€å½“ä½¿ç”¨è¿­ä»£å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¾èµ–èšåˆæä¾›éå†ã€‚

4ã€è¿­ä»£å™¨æä¾›äº†ä¸€ä¸ªé€šç”¨çš„æ¥å£ï¼Œè®©æˆ‘ä»¬éå†èšåˆçš„é¡¹ï¼Œæ”¾æˆ‘ä»¬ç¼–ç ä½¿ç”¨èšåˆé¡¹æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤šæ€æœºåˆ¶ã€‚

# 666. å½©è›‹

å¦‚æœä½ å¯¹ è®¾è®¡æ¨¡å¼ æ„Ÿå…´è¶£ï¼Œæ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†ä¸€èµ·äº¤æµã€‚

![çŸ¥è¯†æ˜Ÿçƒ](http://www.iocoder.cn/images/Architecture/2017_12_29/01.png)