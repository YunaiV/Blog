title: ç”µå•†ç³»ç»Ÿè®¾è®¡ä¹‹å•†å“ï¼ˆä¸‹ï¼‰
date: 2018-11-13
tags:
categories: ç²¾è¿›
permalink: Fight/Products-of-e-commerce-system-design-2
author: GraceDevelopment
from_url: https://juejin.im/post/5b5c384ee51d451994600303
wechat_url: https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247485583&idx=2&sn=b6a0014ec2a4765124c9d9e8c5f2f08c&chksm=fa49773ecd3efe289336af64a9ef630ec5893e29c71c84ab05d708820c7d32d36b4c0ad15613&token=1977883259&lang=zh_CN#rd

-------

æ‘˜è¦: åŸåˆ›å‡ºå¤„ https://juejin.im/post/5b5c384ee51d451994600303 ã€ŒGraceDevelopmentã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

- [1. å‰è¨€](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
- [2. å­˜å‚¨](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
  - [2.1 å…³è”é—®é¢˜](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
- [3. å¤šå•†æˆ·ç”µå•†](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
- [4. åå°åŠŸèƒ½åˆ—è¡¨](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
- [5. æ•°æ®è¡¨](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
  - [5.1 order è®¢å•è¡¨](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
  - [5.2 order_detail è®¢å•è¯¦æƒ…](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
  - [5.3 order_logistics è®¢å•ç‰©æµ](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
  - [5.4 order_returns è®¢å•é€€æ¢è´§](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
  - [5.5 order_returns_apply å”®åç”³è¯·](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)
- [6. è‡´è°¢](http://www.iocoder.cn/Fight/Products-of-e-commerce-system-design-2/)

-------

![](http://www.iocoder.cn/images/common/wechat_mp_2017_07_31.jpg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘**æœ‰ç¦åˆ©ï¼š
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚
> 5. **è®¤çœŸçš„**æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚

-------

> ç”µå•†å¤§ä¼™æ¯å¤©éƒ½åœ¨ç”¨ï¼Œç±»ä¼¼æŸçŒ«ï¼ŒæŸç‹—ç­‰ã€‚ ç”µå•†ç³»ç»Ÿè®¾è®¡çœ‹ä¼¼å¤æ‚åˆå¾ˆç®€å•ï¼Œçœ‹ä¼¼ç®€å•åˆå¾ˆå¤æ‚ æœ¬ç« é€‚åˆåˆçº§å·¥ç¨‹å¸ˆåŠä¸­çº§å·¥ç¨‹å¸ˆç»†çœ‹ï¼Œå¤§ä½¬è¯·éšæ„

# 1. å‰è¨€

å•†å“ç³»ç»Ÿä¸è®¢å•ç³»ç»Ÿ(äº¤æ˜“ç³»ç»Ÿ)æ˜¯ç›¸é“ºç›¸æˆçš„ï¼Œå½“ä¹°å®¶è´­ä¹°å•†å“åå°†ç»å†ä¸€ä¸ªè¿‡ç¨‹

> å•†å“ç³»ç»Ÿ->äº¤æ˜“ç³»ç»Ÿ->è®¢å•ç³»ç»Ÿ->ç‰©æµç³»ç»Ÿ->å”®åç³»ç»Ÿ



![clipboard.png](https://user-gold-cdn.xitu.io/2018/7/28/164e03ca87a3348d?imageView2/0/w/1280/h/960/format/jpeg/ignore-error/1)



å®Œæˆä¸Šè¿°æµç¨‹åˆ™æ˜¯å®Œæˆäº†ä¸€ç¬”äº¤æ˜“,ç»å¸¸ç½‘ä¸Šè´­ç‰©çš„ç«¥é‹éƒ½æ‡‚è¿™ä¸ªã€‚ä»Šå¤©æˆ‘ä»¬è®²ä¸‹ä»å•†å“ç³»ç»Ÿåˆ°äº¤æ˜“ç³»ç»Ÿå’Œè®¢å•ç³»ç»Ÿçš„å­˜å‚¨è¿‡ç¨‹åŠå…¶è®¾è®¡ä¸Šçš„åº”è¯¥æ³¨æ„çš„â€œå‘â€ã€‚

# 2. å­˜å‚¨

å‰ä¿©ç¯‡æ–‡ç« è®²è§£çš„å•†å“ç³»ç»Ÿçš„SKUä¸SPUçš„è®¾è®¡è¿‡ç¨‹

- SPU(Standard Product Unit)æ ‡å‡†åŒ–äº§å“å•å…ƒ
- SKU(Stock Keeping Unit)åº“å­˜é‡å•å…ƒ

ç°åœ¨æˆ‘ä»¬å·²ç»æ¸…æ¥šå•†å“ç³»ç»Ÿæ•°æ®è¡¨çš„è®¾è®¡å¹¶ä¸”æ¸…æ¥šä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ã€‚

ç°åœ¨æŠ›å‡ºäº†ä¸€ä¸ªé—®é¢˜

> ç”¨æˆ·è´­ä¹°çš„å•†å“å¦‚ä½•å­˜å‚¨åˆ°è®¢å•/äº¤æ˜“ç³»ç»Ÿä¸­?

## 2.1 å…³è”é—®é¢˜

ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯

> å°æ˜åœ¨æŸå®ä¹°äº†ä¸€éƒ¨çˆ±ç–¯æ‰‹æœº,é¢œè‰²æ˜¯çº¢è‰²,å­˜å‚¨æ˜¯32Gï¼Œä»–é€‰æ‹©ä½¿ç”¨æŸå®æ”¯ä»˜.

| SKU  | äº§å“     | é¢œè‰² | å­˜å‚¨ |
| ---- | -------- | ---- | ---- |
| 001  | çˆ±ç–¯æ‰‹æœº | çº¢è‰² | 32G  |
| 002  | çˆ±ç–¯æ‰‹æœº | çº¢è‰² | 256G |
| 003  | çˆ±ç–¯æ‰‹æœº | é»‘è‰² | 32G  |
| 004  | çˆ±ç–¯æ‰‹æœº | é»‘è‰² | 256G |

å°æ˜é€‰æ‹©è´­ä¹°SKU=001çš„äº§å“ï¼Œæ­£å¸¸æƒ…å†µä¸‹è®¢å•è¡¨åº”è¯¥ä¸æ­¤SKUç¼–ç ç›¸å…³è”æ¥ç»´æŒæ•°æ®ä¸€è‡´æ€§ã€‚åƒè¿™æ ·

| è®¢å•å· | ç”¨æˆ· | SKU  |
| ------ | ---- | ---- |
| SN110  | å°æ˜ | 001  |

è¿™ç§è®¾è®¡æœ‰ä¸ªå¼Šç«¯ï¼Œå•†å“çš„åç§°åŠä»·æ ¼éƒ½ä¸æ˜¯å›ºå®šï¼Œå¦‚æœå•†æˆ·ä¿®æ”¹äº†å•†å“çš„æ ‡é¢˜æˆ–è€…å…¶ä»–çš„å±æ€§ï¼Œé‚£å°æ˜å½“æ—¶ä¹°çš„çˆ±ç–¯æ‰‹æœºæ˜¯8000å…ƒï¼Œç»“æœè¿‡äº†å‡ å¹´é™ä»·äº†å•†æˆ·ä¿®æ”¹äº†ä»·æ ¼ï¼Œç»“æœå°æ˜çš„è´­ä¹°æ¸…å•é‡Œä¹Ÿå˜æˆäº†ä¿®æ”¹åçš„ä»·æ ¼ï¼Œæ‰€ä»¥è¯´è¿™ç§ä»…ä»…å…³è”çš„è®¾è®¡æ˜¯ä¸å¯å–çš„(è‡³å°‘åœ¨ç”µå•†ç³»ç»Ÿä¸­ä¸å¯å–)ã€‚

| è®¢å•å· | ç”¨æˆ· | SKU  | å•†å“æ ‡é¢˜ | å•†å“ä»·æ ¼ | å•†å“å°é¢å›¾ | å•†å“å…¶ä»–å±æ€§ |
| ------ | ---- | ---- | -------- | -------- | ---------- | ------------ |
| SN110  | å°æ˜ | 001  | çˆ±ç–¯æ‰‹æœº | 8000     | aifeng.png | å…¶ä»–å±æ€§     |

åƒä¸Šè¡¨ä¸­è®¾è®¡ï¼Œæœ‰äººä¼šé—®äº† â€œé‚£å…³è”çš„æ„ä¹‰ä½•åœ¨å‘¢ï¼Ÿâ€

æˆ‘çš„å›ç­”æ˜¯ â€œä¿æŒæ•°æ®å…³è”â€ ï¼Œè™½ç„¶å•†æˆ·æœ‰å¯èƒ½æ”¹å˜å•†å“å±æ€§ï¼Œä½†ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œåº”è¯¥å°½å¯èƒ½çš„è®°å½•ç”¨æˆ·æ‰€æœ‰çš„åŠ¨ä½œã€‚

> æ–‡æœ«æœ‰è®¢å•è¡¨çš„æ•°æ®ç»“æ„

# 3. å¤šå•†æˆ·ç”µå•†

å®é™…åœ¨ç”µå•†ç³»ç»Ÿè®¾è®¡ä¸Šï¼Œä¸ªäººæ„Ÿè§‰ä¸åº”åŒºåˆ†å¤šå•†æˆ·çš„ç”µå•†ä¸å•ç”¨æˆ·çš„ç”µå•†(è‡³å°‘å¼€å‘è€…ä¸åº”åŒºåˆ†ä»–ä»¬)ï¼Œä½†å‰æœŸè®¾è®¡ä¸Šå°±åº”æŠŠå¤šå•†æˆ·æ¦‚å¿µå¸¦å…¥åˆ°ç³»ç»Ÿå†…ã€‚å“ªæ€•åªæœ‰ä¸€ä¸ªå®˜æ–¹ä¸“å–åº—å‘¢ï¼Ÿï¼



![clipboard.png](https://user-gold-cdn.xitu.io/2018/7/28/164e03ca858207e6?imageView2/0/w/1280/h/960/format/jpeg/ignore-error/1)



æ¶‰åŠåˆ°å¤šå•†æˆ·å°±éœ€è¦è€ƒè™‘ç”¨æˆ·ç»Ÿä¸€ä¸‹å•é—®é¢˜äº†ã€‚

- è®¢å•æ˜¯ç”±è´­ç‰©è½¦ä¸‹å•ï¼Œå¤šä¸ªå•†å“æ¥è‡ªå¤šä¸ªå•†æˆ·
- å¦‚æœè¿›è¡Œæ‹†å•ã€åˆ†å•
- å¦‚ä½•è¿›è¡Œä¸‹å•é€šçŸ¥ç­‰ç­‰å¤šå•†æˆ·çš„é—®é¢˜

å…³äºå¤šå•†æˆ·çš„é—®é¢˜ä¸æ˜¯æœ¬ç« çš„é‡ç‚¹ï¼Œæœ¬æ¬¡æˆ‘å…ˆæå‡ºè¿™å‡ ä¸ªç–‘é—®,æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æå‰æ€è€ƒä¸‹ï¼Œåç»­æ–‡ç« ä¼šè¯¦ç»†è®²è§£

> è®¢å•æ˜¯ç”±è´­ç‰©è½¦ä¸‹å•ï¼Œå¤šä¸ªå•†å“æ¥è‡ªå¤šä¸ªå•†æˆ·

å¦‚æœä¸‹å•æ˜¯æ¥è‡ªå¤šä¸ªå•†æˆ·çš„å•†å“ï¼Œé‚£ä¹ˆè®¢å•çš„æ•°æ®åº“æ¥å£åº”è¯¥è¿™æ ·è®¾è®¡

**è®¢å•è¡¨**

| è®¢å•å· | ç”¨æˆ· |
| ------ | ---- |
| SN110  | å°æ˜ |

**è®¢å•è¯¦æƒ…è¡¨**

| è®¢å•å· | SKU  | ç”¨æˆ· | å•†æˆ·   |
| ------ | ---- | ---- | ------ |
| SN110  | 001  | å°æ˜ | å®˜æ–¹   |
| SN110  | 002  | å°æ˜ | ç¬¬ä¸‰æ–¹ |

æ— è®ºè´­ä¹°å¤šå°‘å•†å“å¹¶ä¸”å•†å“å½’å±äºå¤šå°‘ä¸ªå•†æˆ·ï¼Œæˆ‘ä»¬éƒ½åº”æŠŠç”¨æˆ·ä¸€æ¬¡æ€§è´­ä¹°çš„å•†å“å½’å±ä¸ä¸€ä¸ªè®¢å•ï¼Œè®¢å•ä¸‹å†å…³è”å¤šä¸ªå•†å“çš„è¯¦æƒ…ã€‚åœ¨å”®åæ“ä½œä¸Šï¼Œä¹Ÿæ–¹ä¾¿ä¹°å®¶é€€æ¢å•ä¸ªå•†å“ã€‚

> æ–‡æœ«æœ‰è¯¦ç»†æ•°æ®ç»“æ„è®¾è®¡

# 4. åå°åŠŸèƒ½åˆ—è¡¨

è¿™é‡Œæä¾›ä¸‹åŠŸèƒ½åç§°ä¸URLä¸ºå‚è€ƒ

| èœå•åç§° | URL                |
| -------- | ------------------ |
| å•†å“ç®¡ç† | /product           |
| å‘å¸ƒå•†å“ | /product/create    |
| å•†å“ç±»ç›® | /product/category  |
| å“ç‰Œç®¡ç† | /product/brand     |
| è§„æ ¼ç®¡ç† | /product/attribute |
| å›æ”¶ç«™   | /product/recycle   |
| è®¢å•åˆ—è¡¨ | /order             |

åå°çš„è®¾è®¡å’Œæ“ä½œå¥—è·¯æˆ‘ä¼šå•ç‹¬æ‹¿ä¸€ç¯‡æ–‡ç« æ¥ä»‹ç»ã€‚è¿™é‡Œåªåšä¸€ä¸ªå¤§æ¦‚çš„tableã€‚

# 5. æ•°æ®è¡¨

## 5.1 order è®¢å•è¡¨

```SQL
CREATE TABLE `order` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_no` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'è®¢å•ç¼–å·',
  `order_sn` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'äº¤æ˜“å·',
  `member_id` int(11) NOT NULL COMMENT 'å®¢æˆ·ç¼–å·',
  `supplier_id` int(11) DEFAULT '0' COMMENT 'å•†æˆ·ç¼–ç ',
  `supplier_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'å•†æˆ·åç§°',
  `order_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'è®¢å•çŠ¶æ€ 0æœªä»˜æ¬¾,1å·²ä»˜æ¬¾,2å·²å‘è´§,3å·²ç­¾æ”¶,-1é€€è´§ç”³è¯·,-2é€€è´§ä¸­,-3å·²é€€è´§,-4å–æ¶ˆäº¤æ˜“ -5æ’¤é”€ç”³è¯·',
  `after_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'ç”¨æˆ·å”®åçŠ¶æ€ 0 æœªå‘èµ·å”®å 1 ç”³è¯·å”®å -1 å”®åå·²å–æ¶ˆ 2 å¤„ç†ä¸­ 200 å¤„ç†å®Œæ¯•',
  `product_count` int(11) NOT NULL DEFAULT '0' COMMENT 'å•†å“æ•°é‡',
  `product_amount_total` decimal(12,4) NOT NULL COMMENT 'å•†å“æ€»ä»·',
  `order_amount_total` decimal(12,4) NOT NULL DEFAULT '0.0000' COMMENT 'å®é™…ä»˜æ¬¾é‡‘é¢',
  `logistics_fee` decimal(12,4) NOT NULL COMMENT 'è¿è´¹é‡‘é¢',
  `address_id` int(11) NOT NULL COMMENT 'æ”¶è´§åœ°å€ç¼–ç ',
  `pay_channel` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'æ”¯ä»˜æ¸ é“ 0ä½™é¢ 1å¾®ä¿¡ 2æ”¯ä»˜å®',
  `out_trade_no` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'è®¢å•æ”¯ä»˜å•å·',
  `escrow_trade_no` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç¬¬ä¸‰æ–¹æ”¯ä»˜æµæ°´å·',
  `pay_time` int(11) NOT NULL DEFAULT '0' COMMENT 'ä»˜æ¬¾æ—¶é—´',
  `delivery_time` int(11) NOT NULL DEFAULT '0' COMMENT 'å‘è´§æ—¶é—´',
  `order_settlement_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'è®¢å•ç»“ç®—çŠ¶æ€ 0æœªç»“ç®— 1å·²ç»“ç®—',
  `order_settlement_time` int(11) NOT NULL DEFAULT '0' COMMENT 'è®¢å•ç»“ç®—æ—¶é—´',
  `is_package` enum('0','1') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦æ˜¯å¥—é¤',
  `is_integral` enum('0','1') COLLATE utf8mb4_unicode_ci DEFAULT '0' COMMENT 'æ˜¯å¦æ˜¯ç§¯åˆ†äº§å“',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `order_order_sn_member_id_order_status_out_trade_no_index` (`order_sn`,`member_id`,`order_status`,`out_trade_no`(191))
) ENGINE=InnoDB AUTO_INCREMENT=114 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

## 5.2 order_detail è®¢å•è¯¦æƒ…

```SQL
CREATE TABLE `order_detail` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_id` int(11) NOT NULL COMMENT 'è®¢å•ç¼–ç ',
  `product_id` int(11) NOT NULL COMMENT 'å•†å“ç¼–ç ',
  `product_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'å•†å“åç§°',
  `product_price` decimal(12,4) NOT NULL COMMENT 'å•†å“ä»·æ ¼',
  `product_sku` int(11) NOT NULL COMMENT 'å•†å“SKU',
  `product_picture_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `product_mode_desc` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'å•†å“å‹å·ä¿¡æ¯',
  `product_mode_params` int(11) DEFAULT NULL COMMENT 'å•†å“å‹å·å‚æ•°',
  `discount_rate` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'æŠ˜æ‰£æ¯”ä¾‹',
  `discount_amount` decimal(12,4) NOT NULL DEFAULT '0.0000' COMMENT 'æŠ˜æ‰£æ¯”ä¾‹',
  `number` int(11) NOT NULL DEFAULT '1' COMMENT 'è´­ä¹°æ•°é‡',
  `subtotal` decimal(12,4) NOT NULL COMMENT 'å°è®¡é‡‘é¢',
  `is_product_exists` enum('0','1') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0' COMMENT 'å•†å“æ˜¯å¦æœ‰æ•ˆ 1å¤±æ•ˆ',
  `remark` text COLLATE utf8mb4_unicode_ci COMMENT 'å®¢æˆ·å•†å“å¤‡æ³¨',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `order_detail_order_id_index` (`order_id`)
) ENGINE=InnoDB AUTO_INCREMENT=118 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

## 5.3 order_logistics è®¢å•ç‰©æµ

```SQL
CREATE TABLE `order_logistics` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_id` int(11) NOT NULL COMMENT 'è®¢å•ç¼–ç ',
  `express_no` varchar(125) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'å‘è´§å¿«é€’å•å·',
  `consignee_realname` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'æ”¶è´§äººå§“å',
  `consignee_telphone` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'è”ç³»ç”µè¯',
  `consignee_telphone2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'å¤‡ç”¨è”ç³»ç”µè¯',
  `consignee_address` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'æ”¶è´§åœ°å€',
  `consignee_zip` int(11) NOT NULL COMMENT 'é‚®æ”¿ç¼–ç ',
  `logistics_type` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç‰©æµæ–¹å¼',
  `logistics_fee` decimal(12,2) NOT NULL DEFAULT '0.00' COMMENT 'ç‰©æµå‘è´§è¿è´¹',
  `order_logistics_status` int(11) NOT NULL DEFAULT '0' COMMENT 'ç‰©æµçŠ¶æ€',
  `logistics_settlement_status` int(11) NOT NULL DEFAULT '0' COMMENT 'ç‰©æµç»“ç®—çŠ¶æ€',
  `logistics_result_last` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç‰©æµæœ€åçŠ¶æ€æè¿°',
  `logistics_result` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç‰©æµæè¿°',
  `logistics_create_time` int(11) NOT NULL DEFAULT '0' COMMENT 'å‘è´§æ—¶é—´',
  `logistics_update_time` int(11) NOT NULL DEFAULT '0' COMMENT 'ç‰©æµæ›´æ–°æ—¶é—´',
  `logistics_settlement_time` int(11) NOT NULL DEFAULT '0' COMMENT 'ç‰©æµç»“ç®—æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=114 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

## 5.4 order_returns è®¢å•é€€æ¢è´§

```SQL
CREATE TABLE `order_returns` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `returns_no` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'é€€è´§ç¼–å· ä¾›å®¢æˆ·æŸ¥è¯¢',
  `order_id` int(11) NOT NULL COMMENT 'è®¢å•ç¼–å·',
  `express_no` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç‰©æµå•å·',
  `consignee_realname` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'æ”¶è´§äººå§“å',
  `consignee_telphone` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'è”ç³»ç”µè¯',
  `consignee_telphone2` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'å¤‡ç”¨è”ç³»ç”µè¯',
  `consignee_address` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'æ”¶è´§åœ°å€',
  `consignee_zip` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'é‚®æ”¿ç¼–ç ',
  `logistics_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'ç‰©æµæ–¹å¼',
  `logistics_fee` decimal(12,2) NOT NULL COMMENT 'ç‰©æµå‘è´§è¿è´¹',
  `order_logistics_status` int(11) DEFAULT NULL COMMENT 'ç‰©æµçŠ¶æ€',
  `logistics_settlement_status` int(11) DEFAULT NULL COMMENT 'ç‰©æµç»“ç®—çŠ¶æ€',
  `logistics_result_last` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç‰©æµæœ€åçŠ¶æ€æè¿°',
  `logistics_result` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ç‰©æµæè¿°',
  `logistics_create_time` int(11) DEFAULT NULL COMMENT 'å‘è´§æ—¶é—´',
  `logistics_update_time` int(11) DEFAULT NULL COMMENT 'ç‰©æµæ›´æ–°æ—¶é—´',
  `logistics_settlement_time` int(11) DEFAULT NULL COMMENT 'ç‰©æµç»“ç®—æ—¶é—´',
  `returns_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '0å…¨éƒ¨é€€å• 1éƒ¨åˆ†é€€å•',
  `handling_way` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'PUPAWAY:é€€è´§å…¥åº“;REDELIVERY:é‡æ–°å‘è´§;RECLAIM-REDELIVERY:ä¸è¦æ±‚å½’è¿˜å¹¶é‡æ–°å‘è´§; REFUND:é€€æ¬¾; COMPENSATION:ä¸é€€è´§å¹¶èµ”å¿',
  `returns_amount` decimal(8,2) NOT NULL COMMENT 'é€€æ¬¾é‡‘é¢',
  `return_submit_time` int(11) NOT NULL COMMENT 'é€€è´§ç”³è¯·æ—¶é—´',
  `handling_time` int(11) NOT NULL COMMENT 'é€€è´§å¤„ç†æ—¶é—´',
  `remark` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'é€€è´§åŸå› ',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

## 5.5 order_returns_apply å”®åç”³è¯·

> é€€æ¢è´§ç”³è¯·

```SQL
CREATE TABLE `order_returns_apply` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_no` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'è®¢å•å•å·',
  `order_detail_id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'å­è®¢å•ç¼–ç ',
  `return_no` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'å”®åå•å·',
  `member_id` int(11) NOT NULL COMMENT 'ç”¨æˆ·ç¼–ç ',
  `state` tinyint(4) NOT NULL COMMENT 'ç±»å‹ 0 ä»…é€€æ¬¾ 1é€€è´§é€€æ¬¾',
  `product_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'è´§ç‰©çŠ¶æ€ 0:å·²æ”¶åˆ°è´§ 1:æœªæ”¶åˆ°è´§',
  `why` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'é€€æ¢è´§åŸå› ',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'å®¡æ ¸çŠ¶æ€ -1 æ‹’ç» 0 æœªå®¡æ ¸ 1å®¡æ ¸é€šè¿‡',
  `audit_time` int(11) NOT NULL DEFAULT '0' COMMENT 'å®¡æ ¸æ—¶é—´',
  `audit_why` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'å®¡æ ¸åŸå› ',
  `note` text COLLATE utf8mb4_unicode_ci COMMENT 'å¤‡æ³¨',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

# 6. è‡´è°¢

æ„Ÿè°¢ä½ çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œæ¥ä¸‹æ¥ä¼šç»§ç»­å‡ºä¸€äº›ç”µå•†ç›¸å…³çš„æ–‡ç« ï¼Œä¾‹å¦‚äº¤æ˜“ç³»ç»Ÿçš„è®¾è®¡ã€è®¢å•ç³»ç»Ÿçš„è®¾è®¡ç­‰ç­‰ã€‚æ„Ÿè°¢è¿‘æœŸæ¥å…³æ³¨æˆ‘çš„ç«¥é‹ä»¬ã€‚ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œæˆ‘å¾ˆè£å¹¸èƒ½æŠŠæˆ‘çŸ¥é“çš„åˆ†äº«ç»™å¤§å®¶ã€‚

**ä»£ç å¤šå˜ï¼Œåˆå¿ƒä¸å˜**