title: å¿«é€Ÿæµ‹è¯• API æ¥å£çš„æ–°æŠ€èƒ½
date: 2018-07-27
tags:
categories: ç²¾è¿›
permalink: Fight/rest-client-use
author: è€æ¢
from_url: http://blog.720ui.com/2018/restclient_use/
wechat_url: https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247484818&idx=1&sn=034554c8cbd51d4096120c24266f413c&chksm=fa497a23cd3ef335d3a6bf7da7142e1b017704d13295b4731391c9b7b3d5530291753445399c#rd

-------

æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://blog.720ui.com/2018/restclient_use/ ã€Œè€æ¢ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

- [å¼€å§‹å·¥ä½œ](http://www.iocoder.cn/Fight/rest-client-use/)
- [å¤šç¯å¢ƒé…ç½®](http://www.iocoder.cn/Fight/rest-client-use/)
- [æ¡ˆä¾‹è¯¦è§£](http://www.iocoder.cn/Fight/rest-client-use/)
- [å‚è€ƒèµ„æ–™](http://www.iocoder.cn/Fight/rest-client-use/)

-------

![](http://www.iocoder.cn/http://images/common/wechat_mp_2017_07_31.jpg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘**æœ‰ç¦åˆ©ï¼š
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚
> 5. **è®¤çœŸçš„**æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚

-------

åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æˆ–å¤šæˆ–å°‘éƒ½æ¶‰åŠåˆ° API æ¥å£çš„æµ‹è¯•ã€‚ä¾‹å¦‚ï¼Œæœ‰çš„å°ä¼™ä¼´ä½¿ç”¨ Chrome çš„ Postman æ’ä»¶ï¼Œæˆ–è€…ä½¿ç”¨ç«ç‹çš„ restclient ç­‰å·¥å…·ã€‚äº‹å®ä¸Šï¼Œè¿™äº›å·¥å…·æ˜¯æµ‹è¯• API æ¥å£éå¸¸æœ‰æ•ˆçš„æ–¹å¼ä¹‹ä¸€ï¼Œç¬”è€…ä¹‹å‰ä¹Ÿä¸€ç›´ä½¿ç”¨ Postman å®Œæˆ API æ¥å£çš„æµ‹è¯•å·¥ä½œã€‚ä»Šå¤©ï¼Œç¬”è€…æ¨èå¦å¤–ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å°å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©è¯»è€…å¿«é€Ÿæµ‹è¯• API æ¥å£ã€‚è¿™ä¸ªå·¥å…·å°±æ˜¯ IDEA çš„ **Editor REST Client**ã€‚

IDEA çš„ **Editor REST Client** åœ¨ IntelliJ IDEA 2017.3 ç‰ˆæœ¬å°±å¼€å§‹æ”¯æŒï¼Œåœ¨ 2018.1 ç‰ˆæœ¬æ·»åŠ äº†å¾ˆå¤šçš„ç‰¹æ€§ã€‚äº‹å®ä¸Šï¼Œå®ƒæ˜¯ IntelliJ IDEA çš„ **HTTP Client** æ’ä»¶ã€‚

## å¼€å§‹å·¥ä½œ

é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª **xxx.http** æ–‡ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚

![](http://image.chenyongjun.vip/idea-http-client01.PNG)

è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ **###** è¿›è¡Œ HTTP è¯·æ±‚åˆ†å‰²ï¼Œå¹¶åœ¨åé¢æ·»åŠ æ³¨é‡Šï¼Œæ¡ˆä¾‹å¦‚ä¸‹æ‰€ç¤ºã€‚

```
### ç”¨æˆ·ç™»å½•
POST http://localhost:8088/oauth/token?grant_type=password&username=lgz&password=123456
Accept : application/json
Content-Type : application/json;charset=UTF-8
Authorization: Basic client secret
Cache-Control : no-cache
```

å› æ­¤ï¼Œæˆ‘ä»¬è·å¾—çš„å“åº”å†…å®¹ã€‚

![](http://image.chenyongjun.vip/idea-http-client02.gif)

## å¤šç¯å¢ƒé…ç½®

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå­˜åœ¨å¤šå¥—ç¯å¢ƒï¼Œä¾‹å¦‚**å¼€å‘ç¯å¢ƒ**ã€**æµ‹è¯•ç¯å¢ƒ**ã€**é¢„å‘ç¯å¢ƒ**ã€**ç”Ÿäº§ç¯å¢ƒ** ç­‰ã€‚å› æ­¤ï¼Œå¦‚æœ **Editor REST Client** èƒ½å¤Ÿåƒ Postman ä¸€æ ·åšåˆ°å¤šç¯å¢ƒé…ç½®å°±å¤ªæ£’äº†ã€‚äº‹å®ä¸Šï¼Œ**Editor REST Client** å·²ç»æ”¯æŒäº†è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»º **rest-client.env.json** æ–‡ä»¶ï¼Œå¹¶ä¸”é…ç½®å¤šç¯å¢ƒä¿¡æ¯å³å¯ã€‚

```JSON
{
  "development" : {
    "url" : "http://localhost:8088",
    "token" : "Bearer 4d74c7fb-0ef4-45ec-b3ff-902eaa3d116c"
  },
  "test" : {
    "url" : "http://localhost:8089",
    "token" : "Bearer 4d74c7fb-0ef4-45ec-b3ff-902eaa3d116c"
  },
  "preproduction" : {
    "url" : "http://activity.720ui.com",
    "token" : "Bearer 4d74c7fb-0ef4-45ec-b3ff-902eaa3d116c"
  },
  "product" : {
    "url" : "http://activity.720ui.com",
    "token" : "Bearer 4d74c7fb-0ef4-45ec-b3ff-902eaa3d116c"
  }
}
```

æ­¤æ—¶ï¼Œæ”¹é€ ä¹‹å‰çš„ URLï¼Œå°† `http://localhost:8088` æ”¹é€ æˆ `url` ä»£æ›¿ã€‚

```
POST {{url}}/oauth/token?grant_type=password&username=lgz&password=123456
```

è¿™é‡Œï¼Œæˆ‘ä»¬è·å¾—çš„æ•´ä½“æ•ˆæœã€‚

![](http://image.chenyongjun.vip/idea-http-client03.gif)

## æ¡ˆä¾‹è¯¦è§£

ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸ªå®Œæ•´çš„æ¡ˆä¾‹ã€‚

```
### åˆ›å»ºç”¨æˆ·ä¿¡æ¯
POST {{url}}/v1/m/users
Accept : application/json
Content-Type : application/json;charset=UTF-8
Authorization: {{token}}
{
    "username": "xiaoyue",
    "realname": "å°å²³",
    "password": "111111",
    "email": "lianggzone@163.com",
    "tel": "18305930000",
    "weixin": "LiangGzone",
    "sex": 1
}

### ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
PUT {{url}}/v1/m/users/723181
Accept : application/json
Content-Type : application/json;charset=UTF-8
Authorization: {{token}}
CachePATCH-Control : no-cache
{
    "username": "xiaoyue"
}

### æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
GET {{url}}/v1/c/users/lgz/username
Accept : application/json
Content-Type : application/json;charset=UTF-8
Authorization: {{token}}

### æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨
GET {{url}}/v1/c/users?keyword=æ¢
Accept : application/json
Content-Type : application/json;charset=UTF-8
Authorization: {{token}}
```

## å‚è€ƒèµ„æ–™

- [https://marketplace.visualstudio.com/items?itemName=humao.rest-clientt](https://marketplace.visualstudio.com/items?itemName=humao.rest-client)