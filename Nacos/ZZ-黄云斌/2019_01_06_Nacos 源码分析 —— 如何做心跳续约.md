title: Nacos æºç åˆ†æ â€”â€” å¦‚ä½•åšå¿ƒè·³ç»­çº¦
date: 2019-01-06
tag:
categories: Nacos
permalink: Nacos/huangyunbin/How-do-you-renew-your-heartbeat
author: é»„äº‘æ–Œ
from_url: https://www.jianshu.com/p/29d36e2e9395
wechat_url: 

-------

æ‘˜è¦: åŸåˆ›å‡ºå¤„ https://www.jianshu.com/p/29d36e2e9395 ã€Œé»„äº‘æ–Œã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

- [å…ˆçœ‹å¦‚ä½•å¤„ç†httpå¿ƒè·³è¯·æ±‚](http://www.iocoder.cn/Nacos/huangyunbin/How-do-you-renew-your-heartbeat/)
- [å†çœ‹å…·ä½“æ€ä¹ˆå‘èµ·å¿ƒè·³](http://www.iocoder.cn/Nacos/huangyunbin/How-do-you-renew-your-heartbeat/)

-------

![](http://www.iocoder.cn/images/common/wechat_mp_2017_07_31.jpg)

> ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨**å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘**æœ‰ç¦åˆ©ï¼š
> 1. RocketMQ / MyCAT / Sharding-JDBC **æ‰€æœ‰**æºç åˆ†ææ–‡ç« åˆ—è¡¨
> 2. RocketMQ / MyCAT / Sharding-JDBC **ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€**
> 3. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€**éƒ½**å°†å¾—åˆ°**è®¤çœŸ**å›å¤ã€‚**ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢**ã€‚
> 4. **æ–°çš„**æºç è§£ææ–‡ç« **å®æ—¶**æ”¶åˆ°é€šçŸ¥ã€‚**æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³**ã€‚
> 5. **è®¤çœŸçš„**æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚

-------

# å…ˆçœ‹å¦‚ä½•å¤„ç†httpå¿ƒè·³è¯·æ±‚

![](http://upload-images.jianshu.io/upload_images/7835103-4ea12bd21df118e5.png)

![](http://upload-images.jianshu.io/upload_images/7835103-63dfa5a68805044a.png)

## ç„¶åå°±ä¼šæ›´æ–°è¿™ä¸ªipçš„æœ€åå¿ƒè·³æ—¶é—´

![](http://upload-images.jianshu.io/upload_images/7835103-5818deac06a2f8db.png)

## è¿™ä¸ªæœ€åçš„å¿ƒè·³æ—¶é—´æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Œæœ‰ä¸ªå®šæ—¶ä»»åŠ¡æ¯5sä¼šæ£€æŸ¥æ˜¯ä¸æ˜¯å¤ªä¹…æ²¡å¿ƒè·³ï¼Œå¦‚æœæ²¡å¿ƒè·³å°±ä¸‹çº¿æ‰è¿™ä¸ªå®ä¾‹ã€‚

![](http://upload-images.jianshu.io/upload_images/7835103-125f364a8bd62574.png)

![](http://upload-images.jianshu.io/upload_images/7835103-84689efd860e0473.png)

![](http://upload-images.jianshu.io/upload_images/7835103-fe1e8ff2b530d1c0.png)

# å†çœ‹å…·ä½“æ€ä¹ˆå‘èµ·å¿ƒè·³

## å…ˆæ˜¯æ„ä¸€ä¸ªnacos

```Java
NamingService naming = NamingFactory.createNamingService(properties);
```

## å°±ä¼šåˆ›å»ºä¸€ä¸ªBeatReactor

![](http://upload-images.jianshu.io/upload_images/7835103-100d117eaa3a773a.png)

## ä¼šåˆ›å»ºBeatProcessor

![](http://upload-images.jianshu.io/upload_images/7835103-7949dd4608daf2ce.png)

## æ¥ç€æ˜¯BeatTask

![](http://upload-images.jianshu.io/upload_images/7835103-56a7c06fac603a3b.png)

## ç»ˆäºçœ‹åˆ°å¿ƒè·³è¯·æ±‚äº†

![](http://upload-images.jianshu.io/upload_images/7835103-e797f9eeef85ae25.png)

**æ³¨æ„è¿™é‡Œæ˜¯åƒæ‰€æœ‰çš„nacosæœåŠ¡ä¸­å¿ƒæœåŠ¡å™¨å‘é€å¿ƒè·³**

          

